{
	"info": {
		"_postman_id": "6206aa35-4e66-4172-9261-6332a26fcd4a",
		"name": "mod-circulation",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"_postman_id": "90ffc2cb-3670-46d4-8785-48fc8b8e87a4",
			"name": "schemas",
			"item": [
				{
					"_postman_id": "f0f2f8f0-6a48-48de-9587-0df04cd49333",
					"name": "error.schema",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "5e952041-5ba6-4602-8b63-0549e94a6a4f",
								"type": "text/javascript",
								"exec": [
									"pm.test(\"GET schema_error OK\", function () {",
									"    pm.response.to.be.ok;",
									"});",
									"",
									"pm.test(\"GET schema_error has JSON body\", function () {",
									"    pm.response.to.have.jsonBody();",
									"});",
									"",
									"pm.environment.set(\"schema_error_content\", responseBody);"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{schema_loc}}/raml/master/schemas/{{schema_error}}",
							"host": [
								"{{schema_loc}}"
							],
							"path": [
								"raml",
								"master",
								"schemas",
								"{{schema_error}}"
							]
						}
					},
					"response": []
				},
				{
					"_postman_id": "ec83bb15-8fda-49ea-b71c-bac81b048052",
					"name": "errors.schema",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "f708b061-026b-44d6-92ba-dff26a1b6a94",
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Response OK\", function () {",
									"    pm.response.to.be.ok;",
									"});",
									"",
									"pm.test(\"Response has JSON body\", function () {",
									"    pm.response.to.have.jsonBody();",
									"});",
									"",
									"pm.environment.set(\"schema_errors_content\", responseBody);"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{schema_loc}}/raml/master/schemas/{{schema_errors}}",
							"host": [
								"{{schema_loc}}"
							],
							"path": [
								"raml",
								"master",
								"schemas",
								"{{schema_errors}}"
							]
						}
					},
					"response": []
				},
				{
					"_postman_id": "d29da1cc-5cc5-4727-aefe-905d797a7834",
					"name": "metadata.schema",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "105282cc-4e6f-48e8-982e-d7134cac2578",
								"type": "text/javascript",
								"exec": [
									"pm.test(\"GET schema_metadata OK\", function () {",
									"    pm.response.to.be.ok;",
									"});",
									"",
									"pm.test(\"GET schema_metadata has JSON body\", function () {",
									"    pm.response.to.have.jsonBody();",
									"});",
									"",
									"pm.environment.set(\"schema_metadata_content\", responseBody);"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{schema_loc}}/raml/master/schemas/{{schema_metadata}}",
							"host": [
								"{{schema_loc}}"
							],
							"path": [
								"raml",
								"master",
								"schemas",
								"{{schema_metadata}}"
							]
						}
					},
					"response": []
				},
				{
					"_postman_id": "fb6f2104-6687-4f28-9c44-90f93c81539b",
					"name": "parameters.schema",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "ad455e26-7dc6-4d08-a023-8910e4368b53",
								"type": "text/javascript",
								"exec": [
									"pm.test(\"GET schema_parameters OK\", function () {",
									"    pm.response.to.be.ok;",
									"});",
									"",
									"pm.test(\"GET schema_parameters has JSON body\", function () {",
									"    pm.response.to.have.jsonBody();",
									"});",
									"",
									"pm.environment.set(\"schema_parameters_content\", responseBody);"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{schema_loc}}/raml/master/schemas/{{schema_parameters}}",
							"host": [
								"{{schema_loc}}"
							],
							"path": [
								"raml",
								"master",
								"schemas",
								"{{schema_parameters}}"
							]
						}
					},
					"response": []
				},
				{
					"_postman_id": "1d59ab1a-e358-48b3-bceb-27bd4b8d29d9",
					"name": "loans.json",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "568864fa-8195-4f4d-b493-e89d1000cd02",
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Response OK\", function () {",
									"    pm.response.to.be.ok;",
									"});",
									"",
									"pm.test(\"Response has JSON body\", function () {",
									"    pm.response.to.have.jsonBody();",
									"});",
									"",
									"pm.environment.set(\"schema_loans_content\", responseBody);"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{schema_loc}}/{{mod_name}}/{{mod_version}}//ramls/{{schema_loans}}",
							"host": [
								"{{schema_loc}}"
							],
							"path": [
								"{{mod_name}}",
								"{{mod_version}}",
								"",
								"ramls",
								"{{schema_loans}}"
							]
						}
					},
					"response": []
				},
				{
					"_postman_id": "a861d0ea-06aa-4f26-9a65-234bfd910496",
					"name": "loan.json",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "3d61b853-1f82-44a4-844a-3734a758a26b",
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Response OK\", function () {",
									"    pm.response.to.be.ok;",
									"});",
									"",
									"pm.test(\"Response has JSON body\", function () {",
									"    pm.response.to.have.jsonBody();",
									"});",
									"",
									"pm.environment.set(\"schema_loan_content\", responseBody);"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{schema_loc}}/{{mod_name}}/{{mod_version}}//ramls/{{schema_loan}}",
							"host": [
								"{{schema_loc}}"
							],
							"path": [
								"{{mod_name}}",
								"{{mod_version}}",
								"",
								"ramls",
								"{{schema_loan}}"
							]
						}
					},
					"response": []
				},
				{
					"_postman_id": "ba87aa34-1648-4f73-94f0-48aa1b485c43",
					"name": "loan-rules.json",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "236e989e-480f-4c76-9222-31f562c5e928",
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Response OK\", function () {",
									"    pm.response.to.be.ok;",
									"});",
									"",
									"pm.test(\"Response has JSON body\", function () {",
									"    pm.response.to.have.jsonBody();",
									"});",
									"",
									"pm.environment.set(\"schema_loan-rules_content\", responseBody);"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{schema_loc}}/{{mod_name}}/{{mod_version}}//ramls/schema/{{schema_loan-rules}}",
							"host": [
								"{{schema_loc}}"
							],
							"path": [
								"{{mod_name}}",
								"{{mod_version}}",
								"",
								"ramls",
								"schema",
								"{{schema_loan-rules}}"
							]
						}
					},
					"response": []
				},
				{
					"_postman_id": "c515c23c-a9d6-4d68-8c4b-7c77bb0e7ae9",
					"name": "loan-rule-matches.json",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "cf5d1ce9-0e20-4429-a66b-3cbc5d9374f5",
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Response OK\", function () {",
									"    pm.response.to.be.ok;",
									"});",
									"",
									"pm.test(\"Response has JSON body\", function () {",
									"    pm.response.to.have.jsonBody();",
									"});",
									"",
									"pm.environment.set(\"schema_loan-rule-matches_content\", responseBody);"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{schema_loc}}/{{mod_name}}/{{mod_version}}//ramls/schema/{{schema_loan-rule-matches}}",
							"host": [
								"{{schema_loc}}"
							],
							"path": [
								"{{mod_name}}",
								"{{mod_version}}",
								"",
								"ramls",
								"schema",
								"{{schema_loan-rule-matches}}"
							]
						}
					},
					"response": []
				},
				{
					"_postman_id": "31e3bacc-8627-4c48-9a16-7ff9d2933638",
					"name": "loan-rule-match.json",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "e6882098-61ac-4758-882b-90e0a1793d3c",
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Response OK\", function () {",
									"    pm.response.to.be.ok;",
									"});",
									"",
									"pm.test(\"Response has JSON body\", function () {",
									"    pm.response.to.have.jsonBody();",
									"});",
									"",
									"pm.environment.set(\"schema_loan-rule-match_content\", responseBody);"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{schema_loc}}/{{mod_name}}/{{mod_version}}//ramls/schema/{{schema_loan-rule-match}}",
							"host": [
								"{{schema_loc}}"
							],
							"path": [
								"{{mod_name}}",
								"{{mod_version}}",
								"",
								"ramls",
								"schema",
								"{{schema_loan-rule-match}}"
							]
						}
					},
					"response": []
				},
				{
					"_postman_id": "1a7fdbbf-daaa-4672-b1b7-9910d8073399",
					"name": "loan-policy-id.json",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "35694807-fd46-4fbb-8249-fd0acb02b38b",
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Response OK\", function () {",
									"    pm.response.to.be.ok;",
									"});",
									"",
									"pm.test(\"Response has JSON body\", function () {",
									"    pm.response.to.have.jsonBody();",
									"});",
									"",
									"pm.environment.set(\"schema_loan-policy-id_content\", responseBody);"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{schema_loc}}/{{mod_name}}/{{mod_version}}//ramls/schema/{{schema_loan-policy-id}}",
							"host": [
								"{{schema_loc}}"
							],
							"path": [
								"{{mod_name}}",
								"{{mod_version}}",
								"",
								"ramls",
								"schema",
								"{{schema_loan-policy-id}}"
							]
						}
					},
					"response": []
				},
				{
					"_postman_id": "8b5bc47b-17aa-4a66-bccc-357bdd307b76",
					"name": "requests.json",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "ee262032-8630-4ed3-918f-447e91da1e92",
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Response OK\", function () {",
									"    pm.response.to.be.ok;",
									"});",
									"",
									"pm.test(\"Response has JSON body\", function () {",
									"    pm.response.to.have.jsonBody();",
									"});",
									"",
									"pm.environment.set(\"schema_requests_content\", responseBody);"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{schema_loc}}/{{mod_name}}/{{mod_version}}//ramls/{{schema_requests}}",
							"host": [
								"{{schema_loc}}"
							],
							"path": [
								"{{mod_name}}",
								"{{mod_version}}",
								"",
								"ramls",
								"{{schema_requests}}"
							]
						}
					},
					"response": []
				},
				{
					"_postman_id": "ceedbb2c-1535-4431-a9e9-f0b52fc2ed07",
					"name": "request.json",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "51ae954e-38b7-4f42-a992-3b30a6016460",
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Response OK\", function () {",
									"    pm.response.to.be.ok;",
									"});",
									"",
									"pm.test(\"Response has JSON body\", function () {",
									"    pm.response.to.have.jsonBody();",
									"});",
									"",
									"pm.environment.set(\"schema_request_content\", responseBody);"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{schema_loc}}/{{mod_name}}/{{mod_version}}//ramls/{{schema_request}}",
							"host": [
								"{{schema_loc}}"
							],
							"path": [
								"{{mod_name}}",
								"{{mod_version}}",
								"",
								"ramls",
								"{{schema_request}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"_postman_id": "fe22d440-34c5-4094-a4d3-4d7b666c8332",
			"name": "authentication",
			"item": [
				{
					"_postman_id": "832544e9-9a33-4773-b8d1-93e9a62df86f",
					"name": "authn/login",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "2c7d7898-4217-46d0-867d-d66f57fb4072",
								"type": "text/javascript",
								"exec": [
									"var token = postman.getResponseHeader(\"x-okapi-token\")",
									"pm.environment.set(\"xokapitoken\", token);",
									"",
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"",
									"//verify headers",
									"pm.test(\"'Content-Type'header is present and has 'application/json' value\", function () {",
									"    pm.response.to.have.header(\"Content-Type\");",
									"    pm.expect(pm.response.headers.get(\"Content-Type\")).to.be.equal(\"application/json\");",
									"});",
									"",
									"pm.test(\"'Transfer-Encoding' header is present and has 'chunked' value\", function () {",
									"    pm.response.to.have.header(\"Transfer-Encoding\");",
									"    pm.expect(pm.response.headers.get(\"Transfer-Encoding\")).to.be.equal(\"chunked\");",
									"});",
									"",
									"",
									"pm.test(\"'accept' header is present and has correct value\", function () {",
									"    pm.response.to.have.header(\"accept\");",
									"    pm.expect(pm.response.headers.get(\"accept\")).to.be.equal(\"*/*\"); ",
									"});",
									"",
									"pm.test(\"'accept-encoding' header is present and has correct value\", function () {",
									"    pm.response.to.have.header(\"accept-encoding\");",
									"    pm.expect(pm.response.headers.get(\"accept-encoding\")).to.be.equal(\"gzip, deflate\");",
									"});",
									"",
									"",
									"pm.test(\"'connection' header is present and has correct value\", function () {",
									"    pm.response.to.have.header(\"connection\");",
									"    pm.expect(pm.response.headers.get(\"connection\")).to.be.equal(\"keep-alive\");",
									"});",
									"",
									"pm.test(\"'host' header is present\", function () {",
									"    pm.response.to.have.header(\"host\");",
									"   // var hostHeaderValue = pm.environment.get(\"url\") + \":\" + pm.environment.get(\"okapiport\");",
									"   // pm.expect(pm.response.headers.get(\"host\")).to.be.equal(hostHeaderValue);",
									"});",
									"",
									"",
									"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
									"    pm.response.to.have.header(\"X-Okapi-Trace\");",
									"});",
									"",
									"// pm.test(\"'x-okapi-permissions-required' header is present\", function () {",
									"//     pm.response.to.have.header(\"x-okapi-permissions-required\");",
									"// });",
									"",
									"pm.test(\"'x-okapi-permissions' header is present\", function () {",
									"    pm.response.to.have.header(\"x-okapi-permissions\");",
									"});",
									"",
									"pm.test(\"'x-okapi-request-id' header is present\", function () {",
									"    pm.response.to.have.header(\"x-okapi-request-id\");",
									"});",
									"",
									"pm.test(\"'x-okapi-tenant' header is present and has correct value\", function () {",
									"    pm.response.to.have.header(\"x-okapi-tenant\");",
									"    pm.expect(pm.response.headers.get(\"x-okapi-tenant\")).to.be.equal(pm.environment.get(\"xokapitenant\"));",
									"});",
									"",
									"pm.test(\"'x-okapi-token' header is present and has correct value\", function () {",
									"    pm.response.to.have.header(\"x-okapi-token\");",
									"    pm.expect(pm.response.headers.get(\"x-okapi-token\")).to.be.equal(pm.environment.get(\"xokapitoken\"));",
									"});",
									"",
									"pm.test(\"'x-okapi-url' header is present\", function () {",
									"    pm.response.to.have.header(\"x-okapi-url\");",
									"});",
									"",
									"// pm.test(\"'x-okapi-user-id' header is present\", function () {",
									"//     pm.response.to.have.header(\"x-okapi-user-id\");",
									"// });",
									"",
									"",
									"",
									"",
									"",
									""
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "x-okapi-tenant",
								"value": "{{xokapitenant}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"username\":\"{{username}}\",\"password\":\"{{password}}\"}"
						},
						"url": {
							"raw": "{{protocol}}://{{url}}:{{okapiport}}/authn/login",
							"protocol": "{{protocol}}",
							"host": [
								"{{url}}"
							],
							"port": "{{okapiport}}",
							"path": [
								"authn",
								"login"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"_postman_id": "47011cf2-f178-4855-b2ac-358e3c958557",
			"name": "setting test data",
			"item": [
				{
					"_postman_id": "ad77a2d4-a447-48ff-a5c4-f24d6af78015",
					"name": "/users -active",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "49d30306-1952-4c72-a37b-99e44888d5b8",
								"type": "text/javascript",
								"exec": [
									"let response = JSON.parse(responseBody);",
									"",
									"pm.test(\"Status is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"let len = response.users.length;",
									"if(len > 0){",
									"    pm.environment.set(\"circ_test_userid\", response.users[len-1].id);",
									"     pm.environment.set(\"circ_test_userbarcode\", response.users[len-1].barcode);",
									"}   ",
									"else {",
									"       console.log('NO USERS FOUND - ENVIRONMENT NOT SET PROPERLY TO RUN TESTS');",
									"}",
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-okapi-tenant",
								"value": "{{xokapitenant}}"
							},
							{
								"key": "x-okapi-token",
								"value": "{{xokapitoken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{protocol}}://{{url}}:{{okapiport}}/users?limit=10&query=active=true",
							"protocol": "{{protocol}}",
							"host": [
								"{{url}}"
							],
							"port": "{{okapiport}}",
							"path": [
								"users"
							],
							"query": [
								{
									"key": "limit",
									"value": "10"
								},
								{
									"key": "query",
									"value": "active=true"
								}
							]
						}
					},
					"response": []
				},
				{
					"_postman_id": "183ab27a-5460-4844-9acf-31cfed35997c",
					"name": "/users - inactive",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "7bdf3b21-6686-459e-914d-14694f749c63",
								"type": "text/javascript",
								"exec": [
									"let response = JSON.parse(responseBody);",
									"",
									"pm.test(\"Status is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"let len = response.users.length;",
									"if(len > 0){",
									"    pm.environment.set(\"circ_test_inactive_userid\", response.users[len-1].id);",
									"     pm.environment.set(\"circ_test_inactive_userbarcode\", response.users[len-1].barcode);",
									"}   ",
									"else {",
									"       console.log('NO USERS FOUND - ENVIRONMENT NOT SET PROPERLY TO RUN TESTS');",
									"}",
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-okapi-tenant",
								"value": "{{xokapitenant}}"
							},
							{
								"key": "x-okapi-token",
								"value": "{{xokapitoken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{protocol}}://{{url}}:{{okapiport}}/users?limit=10&query=active=false",
							"protocol": "{{protocol}}",
							"host": [
								"{{url}}"
							],
							"port": "{{okapiport}}",
							"path": [
								"users"
							],
							"query": [
								{
									"key": "limit",
									"value": "10"
								},
								{
									"key": "query",
									"value": "active=false"
								}
							]
						}
					},
					"response": []
				},
				{
					"_postman_id": "22554d04-14ca-4dc5-b766-b6b7279d4509",
					"name": "/users -proxy",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "ef59ae39-8576-46d1-80fb-8a6013692568",
								"type": "text/javascript",
								"exec": [
									"let response = JSON.parse(responseBody);",
									"",
									"pm.test(\"Status is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"",
									"if(response.totalRecords > 0){",
									"    pm.environment.set(\"circ_test_useridproxyfor\", response.users[len-1].id);",
									"    pm.environment.set(\"circ_test_userbarcodeproxyfor\", response.users[len-1].barcode);",
									"}   ",
									"else {",
									"       console.log('NO PROXY FOUND - ENVIRONMENT NOT SET PROPERLY TO RUN TESTS');",
									"}",
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-okapi-tenant",
								"value": "{{xokapitenant}}"
							},
							{
								"key": "x-okapi-token",
								"value": "{{xokapitoken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{protocol}}://{{url}}:{{okapiport}}/proxiesfor",
							"protocol": "{{protocol}}",
							"host": [
								"{{url}}"
							],
							"port": "{{okapiport}}",
							"path": [
								"proxiesfor"
							]
						}
					},
					"response": []
				},
				{
					"_postman_id": "6e64c90b-8164-4e74-8e0e-5cb55f4190d4",
					"name": "/users -test user",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "18ff6ffb-488d-4912-bf15-615f0a666abd",
								"type": "text/javascript",
								"exec": [
									"",
									"",
									"pm.test(\"Status is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"    console.log(pm.response.json());",
									"});",
									"",
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-okapi-tenant",
								"value": "{{xokapitenant}}"
							},
							{
								"key": "x-okapi-token",
								"value": "{{xokapitoken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{protocol}}://{{url}}:{{okapiport}}/users/{{circ_test_userid}}",
							"protocol": "{{protocol}}",
							"host": [
								"{{url}}"
							],
							"port": "{{okapiport}}",
							"path": [
								"users",
								"{{circ_test_userid}}"
							]
						}
					},
					"response": []
				},
				{
					"_postman_id": "785f156b-fee9-4797-afe0-5cf7977ef363",
					"name": "/inventory/items - available",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "fbe131d7-7106-45d2-9cf8-c264a50ffd12",
								"type": "text/javascript",
								"exec": [
									"let response = JSON.parse(responseBody);",
									"pm.test(\"Status is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"",
									"let len = response.items.length;",
									"",
									"if(len > 0){",
									"    pm.environment.set(\"circ_test_itemid\", response.items[len-1].id);",
									"    pm.environment.set(\"circ_test_itembarcode\", response.items[len-1].barcode);",
									"}",
									"else {",
									"      console.log('NO ITEMS FOUND - ENVIRONMENT NOT SET PROPERLY TO RUN THE TESTS');",
									"",
									"}"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-okapi-tenant",
								"value": "{{xokapitenant}}"
							},
							{
								"key": "x-okapi-token",
								"value": "{{xokapitoken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{protocol}}://{{url}}:{{okapiport}}/inventory/items?limit=10&query=(status.name=Available*)",
							"protocol": "{{protocol}}",
							"host": [
								"{{url}}"
							],
							"port": "{{okapiport}}",
							"path": [
								"inventory",
								"items"
							],
							"query": [
								{
									"key": "limit",
									"value": "10"
								},
								{
									"key": "query",
									"value": "(status.name=Available*)"
								}
							]
						}
					},
					"response": []
				},
				{
					"_postman_id": "12d4a232-3591-4c22-9597-5bddfa794b92",
					"name": "/inventory/items - test item",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "d10c5f84-7646-43f5-bcf2-85b1d333a7b9",
								"type": "text/javascript",
								"exec": [
									"let response = JSON.parse(responseBody);",
									"pm.test(\"Status is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"    console.log(pm.response.json());",
									"});",
									"",
									"",
									"let len = response.items.length;",
									"",
									"if(len > 0){",
									"    pm.environment.set(\"circ_test_itemid\", response.items[len-1].id);",
									"    pm.environment.set(\"circ_test_itembarcode\", response.items[len-1].barcode);",
									"}",
									"else {",
									"      console.log('NO ITEMS FOUND - ENVIRONMENT NOT SET PROPERLY TO RUN THE TESTS');",
									"",
									"}"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-okapi-tenant",
								"value": "{{xokapitenant}}"
							},
							{
								"key": "x-okapi-token",
								"value": "{{xokapitoken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{protocol}}://{{url}}:{{okapiport}}/inventory/items?limit=10&query=(barcode={{circ_test_itembarcode}})",
							"protocol": "{{protocol}}",
							"host": [
								"{{url}}"
							],
							"port": "{{okapiport}}",
							"path": [
								"inventory",
								"items"
							],
							"query": [
								{
									"key": "limit",
									"value": "10"
								},
								{
									"key": "query",
									"value": "(barcode={{circ_test_itembarcode}})"
								}
							]
						}
					},
					"response": []
				},
				{
					"_postman_id": "0cdd1829-ebf0-41da-95c1-b61032ced647",
					"name": "/inventory/items - checked out",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "91a0b3ac-3342-46a6-9517-e4f5a5b13e4e",
								"type": "text/javascript",
								"exec": [
									"let response = JSON.parse(responseBody);",
									"pm.test(\"Status is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"",
									"let len = response.items.length;",
									"",
									"if(len > 0){",
									"    pm.environment.set(\"circ_test_checkeditemid\", response.items[len-1].id);",
									"     pm.environment.set(\"circ_test_checkedbarcode\", response.items[len-1].id);",
									"}",
									"else {",
									"      console.log('NO ITEMS FOUND - ENVIRONMENT NOT SET PROPERLY TO RUN THE TESTS');",
									"",
									"}"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-okapi-tenant",
								"value": "{{xokapitenant}}"
							},
							{
								"key": "x-okapi-token",
								"value": "{{xokapitoken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{protocol}}://{{url}}:{{okapiport}}/inventory/items?limit=10&query=(status.name=Checked out)",
							"protocol": "{{protocol}}",
							"host": [
								"{{url}}"
							],
							"port": "{{okapiport}}",
							"path": [
								"inventory",
								"items"
							],
							"query": [
								{
									"key": "limit",
									"value": "10"
								},
								{
									"key": "query",
									"value": "(status.name=Checked out)"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"_postman_id": "170f9996-0dfd-4658-9e6f-0417e5d69c3e",
			"name": "circulation/check-out-by-barcode",
			"item": [
				{
					"_postman_id": "c62a2b09-d228-4cb9-82f2-705557cd67b9",
					"name": "positive",
					"item": [
						{
							"_postman_id": "af7ccfc0-4f3c-4cea-852d-283a554b2910",
							"name": "check-out-by-barcode - required fields only",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "d9ebed85-4fd9-4c62-a0f3-359cf2e5e837",
										"type": "text/javascript",
										"exec": [
											"",
											"let response = JSON.parse(responseBody);",
											"pm.environment.set(\"barcode_checkout_id\", response.id);",
											"",
											"pm.test(\"Status is 201\", function () {",
											"    pm.response.to.have.status(\"Created\");",
											"});",
											"",
											"pm.test(\"Response must be valid and have a body\", function () {",
											"    pm.response.to.be.withBody;",
											"    pm.response.to.be.json; ",
											"});",
											"",
											"pm.test(\"Response contains correct data\", function () {",
											"    pm.expect(response.userId).to.equal(pm.environment.get(\"circ_test_userid\")); ",
											"    pm.expect(response.itemId).to.equal(pm.environment.get(\"circ_test_itemid\")); ",
											"});",
											"",
											"pm.test(\"Validate schema\", function () {",
											"   tv4.addSchema(\"raml-util/schemas/metadata.schema\", JSON.parse(pm.variables.get(\"schema_metadata_content\")));",
											"    pm.expect(tv4.validate(response, JSON.parse(pm.environment.get(\"schema_loan_content\")))).to.equal(true, \"Schema validation error: \" + JSON.stringify(tv4.error));",
											"   pm.expect(tv4.missing.length).to.equal(0, \"Missing schemas: \" + JSON.stringify(tv4.missing));",
											"});",
											"",
											"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
											"    pm.response.to.have.header(\"X-Okapi-Trace\");",
											"});",
											"",
											"",
											"",
											"",
											"",
											""
										]
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "d031aed3-8994-49a7-a0e8-569a03ce46e0",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-tenant",
										"value": "{{xokapitenant}}"
									},
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\"userBarcode\": \"{{circ_test_userbarcode}}\",\n\"itemBarcode\":\"{{circ_test_itembarcode}}\"\n\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/check-out-by-barcode",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"circulation",
										"check-out-by-barcode"
									]
								}
							},
							"response": []
						},
						{
							"_postman_id": "b92e2622-7a8d-4224-927f-9a5c0ace038f",
							"name": "/circulation/loans/{id} - returning item",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "f328235f-0e2f-476e-be7d-52a5f59f2cb8",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status is 204\", function () {",
											"    pm.response.to.have.status(\"No Content\");",
											"});",
											""
										]
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "a0c38d04-ccaa-4139-b01d-ad429906b8a3",
										"type": "text/javascript",
										"exec": [
											"let today = new Date();",
											"let day = today.getDate();",
											"let month = today.getMonth() + 1; //January is 0!",
											"let year = today.getFullYear();",
											"",
											"if(day < 10) {",
											"    day = '0' + day;",
											"} ",
											"",
											"if(month < 10) {",
											"    month = '0'+ month;",
											"} ",
											"",
											"today = year + \"-\" + month + \"-\" + day;",
											"",
											"console.log(today);",
											"pm.variables.set(\"today\", today);"
										]
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-okapi-tenant",
										"value": "{{xokapitenant}}"
									},
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\"userId\": \"{{circ_test_userid}}\",\n\"itemId\":\"{{circ_test_itemid}}\",\n\"loanDate\": \"{{today}}\",\n\"action\": \"checkedin\",\n\"status\": {\n        \"name\": \"Closed\"\n    }\n\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/loans/{{barcode_checkout_id}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"circulation",
										"loans",
										"{{barcode_checkout_id}}"
									]
								}
							},
							"response": []
						},
						{
							"_postman_id": "80d72366-ab4e-4d49-bf03-8efece4d5e62",
							"name": "/circulation/loans/{id}  - delete loan",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "90b9aea6-80f5-46b6-878a-a3f7d3477e70",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status is 204\", function () {",
											"    pm.response.to.have.status(\"No Content\");",
											"});",
											"",
											"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
											"    pm.response.to.have.header(\"X-Okapi-Trace\");",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "x-okapi-tenant",
										"value": "{{xokapitenant}}"
									},
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/loans/{{barcode_checkout_id}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"circulation",
										"loans",
										"{{barcode_checkout_id}}"
									]
								}
							},
							"response": []
						},
						{
							"_postman_id": "51a4b44d-5b97-4bba-a2e8-458e593c210a",
							"name": "/circulation/loans{id} - verify delete",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "afdfa2c8-33de-4103-82ad-784b64a041dc",
										"type": "text/javascript",
										"exec": [
											"",
											"pm.test(\"Status is 404\", function () {",
											"    pm.response.to.have.status(\"Not Found\");",
											"});",
											"",
											"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
											"    pm.response.to.have.header(\"X-Okapi-Trace\");",
											"});",
											"",
											"",
											"// pm.environment.unset(\"circ_test_userid\");",
											"// pm.environment.unset(\"circ_test_itemid\");",
											"// pm.environment.unset(\"test_recipientId\");",
											"// pm.environment.unset(\"generic_loanid\");",
											"// pm.environment.unset(\"loanRulesAsTextFile\");",
											"// pm.environment.unset(\"newrequestid\");",
											"",
											"",
											"// //schema variables",
											"// pm.environment.unset(\"schema_parameters_content\");",
											"// pm.environment.unset(\"schema_error_content\");",
											"// pm.environment.unset(\"schema_errors_content\");",
											"// pm.environment.unset(\"schema_metadata_content\");",
											"// pm.environment.unset(\"schema_loans_content\");",
											"// pm.environment.unset(\"schema_loan_content\");",
											"// pm.environment.unset(\"schema_loan-rules_content\");",
											"// pm.environment.unset(\"schema_loan-rule_content\");",
											"// pm.environment.unset(\"schema_loan-rule-matches_content\");",
											"// pm.environment.unset(\"schema_loan-rule-match_content\");",
											"// pm.environment.unset(\"schema_requests_content\");",
											"// pm.environment.unset(\"schema_request_content\");",
											"// pm.environment.unset(\"schema_loan-policy-id_content\");",
											"",
											"",
											""
										]
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-tenant",
										"value": "{{xokapitenant}}"
									},
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/loans/{{barcode_checkout_id}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"circulation",
										"loans",
										"{{barcode_checkout_id}}"
									]
								}
							},
							"response": []
						},
						{
							"_postman_id": "8965b678-a7b3-4aab-b45b-7785c25c5b62",
							"name": "check-out-by-barcode -- required fields only and loanDate",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "d9ebed85-4fd9-4c62-a0f3-359cf2e5e837",
										"type": "text/javascript",
										"exec": [
											"",
											"let response = JSON.parse(responseBody);",
											"pm.environment.set(\"barcode_checkout_id\", response.id);",
											"",
											"pm.test(\"Status is 201\", function () {",
											"    pm.response.to.have.status(\"Created\");",
											"});",
											"",
											"pm.test(\"Response must be valid and have a body\", function () {",
											"    pm.response.to.be.withBody;",
											"    pm.response.to.be.json; ",
											"});",
											"",
											"pm.test(\"Response contains correct data\", function () {",
											"    pm.expect(response.userId).to.equal(pm.environment.get(\"circ_test_userid\")); ",
											"    pm.expect(response.itemId).to.equal(pm.environment.get(\"circ_test_itemid\")); ",
											"});",
											"",
											"pm.test(\"Validate schema\", function () {",
											"   tv4.addSchema(\"raml-util/schemas/metadata.schema\", JSON.parse(pm.variables.get(\"schema_metadata_content\")));",
											"    pm.expect(tv4.validate(response, JSON.parse(pm.environment.get(\"schema_loan_content\")))).to.equal(true, \"Schema validation error: \" + JSON.stringify(tv4.error));",
											"   pm.expect(tv4.missing.length).to.equal(0, \"Missing schemas: \" + JSON.stringify(tv4.missing));",
											"});",
											"",
											"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
											"    pm.response.to.have.header(\"X-Okapi-Trace\");",
											"});",
											"",
											"",
											"",
											"",
											"",
											""
										]
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "a0c38d04-ccaa-4139-b01d-ad429906b8a3",
										"type": "text/javascript",
										"exec": [
											"let today = new Date();",
											"let day = today.getDate();",
											"let month = today.getMonth() + 1; //January is 0!",
											"let year = today.getFullYear();",
											"",
											"if(day < 10) {",
											"    day = '0' + day;",
											"} ",
											"",
											"if(month < 10) {",
											"    month = '0'+ month;",
											"} ",
											"",
											"today = year + \"-\" + month + \"-\" + day;",
											"",
											"console.log(today);",
											"pm.variables.set(\"today\", today);"
										]
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-tenant",
										"value": "{{xokapitenant}}"
									},
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\"userBarcode\": \"{{circ_test_userbarcode}}\",\n\"itemBarcode\":\"{{circ_test_itembarcode}}\",\n\"loanDate\": \"{{today}}\"\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/check-out-by-barcode",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"circulation",
										"check-out-by-barcode"
									]
								}
							},
							"response": []
						},
						{
							"_postman_id": "72bc7ea2-810e-4809-919f-3f50f780392b",
							"name": "/circulation/loans/{id} - returning item",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "f328235f-0e2f-476e-be7d-52a5f59f2cb8",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status is 204\", function () {",
											"    pm.response.to.have.status(\"No Content\");",
											"});",
											""
										]
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "a0c38d04-ccaa-4139-b01d-ad429906b8a3",
										"type": "text/javascript",
										"exec": [
											"let today = new Date();",
											"let day = today.getDate();",
											"let month = today.getMonth() + 1; //January is 0!",
											"let year = today.getFullYear();",
											"",
											"if(day < 10) {",
											"    day = '0' + day;",
											"} ",
											"",
											"if(month < 10) {",
											"    month = '0'+ month;",
											"} ",
											"",
											"today = year + \"-\" + month + \"-\" + day;",
											"",
											"console.log(today);",
											"pm.variables.set(\"today\", today);"
										]
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-okapi-tenant",
										"value": "{{xokapitenant}}"
									},
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\"userId\": \"{{circ_test_userid}}\",\n\"itemId\":\"{{circ_test_itemid}}\",\n\"loanDate\": \"{{today}}\",\n\"action\": \"checkedin\",\n\"status\": {\n        \"name\": \"Closed\"\n    }\n\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/loans/{{barcode_checkout_id}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"circulation",
										"loans",
										"{{barcode_checkout_id}}"
									]
								}
							},
							"response": []
						},
						{
							"_postman_id": "fd496cdc-9c22-486a-9ea8-a0e7a4b1dda1",
							"name": "/circulation/loans/{id}  - delete loan",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "90b9aea6-80f5-46b6-878a-a3f7d3477e70",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status is 204\", function () {",
											"    pm.response.to.have.status(\"No Content\");",
											"});",
											"",
											"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
											"    pm.response.to.have.header(\"X-Okapi-Trace\");",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "x-okapi-tenant",
										"value": "{{xokapitenant}}"
									},
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/loans/{{barcode_checkout_id}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"circulation",
										"loans",
										"{{barcode_checkout_id}}"
									]
								}
							},
							"response": []
						},
						{
							"_postman_id": "748cf432-25b0-4ecf-82d5-0ab037967394",
							"name": "check-out-by-barcode - additional property",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "c7bc7889-724c-4f7f-8d87-686900aa35d0",
										"type": "text/javascript",
										"exec": [
											"let response = JSON.parse(responseBody);",
											"pm.environment.set(\"barcode_checkout_id\", response.id);",
											"",
											"pm.test(\"Status is 201\", function () {",
											"    pm.response.to.have.status(\"Created\");",
											"});",
											"",
											"pm.test(\"Response must be valid and have a body\", function () {",
											"    pm.response.to.be.withBody;",
											"    pm.response.to.be.json; ",
											"});",
											"",
											"pm.test(\"Response contains correct data\", function () {",
											"    pm.expect(response.userId).to.equal(pm.environment.get(\"circ_test_userid\")); ",
											"    pm.expect(response.itemId).to.equal(pm.environment.get(\"circ_test_itemid\")); ",
											"});",
											"",
											"pm.test(\"Validate schema\", function () {",
											"   tv4.addSchema(\"raml-util/schemas/metadata.schema\", JSON.parse(pm.variables.get(\"schema_metadata_content\")));",
											"    pm.expect(tv4.validate(response, JSON.parse(pm.environment.get(\"schema_loan_content\")))).to.equal(true, \"Schema validation error: \" + JSON.stringify(tv4.error));",
											"   pm.expect(tv4.missing.length).to.equal(0, \"Missing schemas: \" + JSON.stringify(tv4.missing));",
											"});",
											"",
											"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
											"    pm.response.to.have.header(\"X-Okapi-Trace\");",
											"});",
											"",
											"",
											""
										]
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "d031aed3-8994-49a7-a0e8-569a03ce46e0",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-tenant",
										"value": "{{xokapitenant}}"
									},
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\"userBarcode\": \"{{circ_test_userbarcode}}\",\n\"itemBarcode\":\"{{circ_test_itembarcode}}\",\n\"additionalProperty\": \"is allowed\"\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/check-out-by-barcode",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"circulation",
										"check-out-by-barcode"
									]
								}
							},
							"response": []
						},
						{
							"_postman_id": "3421b546-ba30-4c02-9d5b-25ccd7c0eec3",
							"name": "/circulation/loans/{id} - returning item",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "f328235f-0e2f-476e-be7d-52a5f59f2cb8",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status is 204\", function () {",
											"    pm.response.to.have.status(\"No Content\");",
											"});",
											""
										]
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "a0c38d04-ccaa-4139-b01d-ad429906b8a3",
										"type": "text/javascript",
										"exec": [
											"let today = new Date();",
											"let day = today.getDate();",
											"let month = today.getMonth() + 1; //January is 0!",
											"let year = today.getFullYear();",
											"",
											"if(day < 10) {",
											"    day = '0' + day;",
											"} ",
											"",
											"if(month < 10) {",
											"    month = '0'+ month;",
											"} ",
											"",
											"today = year + \"-\" + month + \"-\" + day;",
											"",
											"console.log(today);",
											"pm.variables.set(\"today\", today);"
										]
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-okapi-tenant",
										"value": "{{xokapitenant}}"
									},
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\"userId\": \"{{circ_test_userid}}\",\n\"itemId\":\"{{circ_test_itemid}}\",\n\"loanDate\": \"{{today}}\",\n\"action\": \"checkedin\",\n\"status\": {\n        \"name\": \"Closed\"\n    }\n\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/loans/{{barcode_checkout_id}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"circulation",
										"loans",
										"{{barcode_checkout_id}}"
									]
								}
							},
							"response": []
						},
						{
							"_postman_id": "3c92deb7-9827-4e04-9ffb-1cc56c5f6b44",
							"name": "/circulation/loans/{id}  - delete loan",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "90b9aea6-80f5-46b6-878a-a3f7d3477e70",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status is 204\", function () {",
											"    pm.response.to.have.status(\"No Content\");",
											"});",
											"",
											"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
											"    pm.response.to.have.header(\"X-Okapi-Trace\");",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "x-okapi-tenant",
										"value": "{{xokapitenant}}"
									},
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/loans/{{barcode_checkout_id}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"circulation",
										"loans",
										"{{barcode_checkout_id}}"
									]
								}
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				},
				{
					"_postman_id": "9fd5ce0b-12dd-48be-83bd-203dc87e1e93",
					"name": "negative",
					"item": [
						{
							"_postman_id": "e10935fc-e377-4a2a-9861-def7f747f09e",
							"name": "check-out-by-barcode - non-existent user barcode",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "87a60eff-5c7b-4394-9d2d-b55a37efdd59",
										"type": "text/javascript",
										"exec": [
											"",
											"let response = JSON.parse(responseBody);",
											"",
											"pm.test(\"Status is 422\", function () {",
											"    pm.response.to.have.status(\"Unprocessable Entity\");",
											"});",
											"",
											"pm.test(\"Response must be valid and have a body\", function () {",
											"    pm.response.to.be.withBody;",
											"    pm.response.to.be.json; ",
											"});",
											"",
											"pm.test(\"Response contains correct data\", function () {",
											"    pm.expect(pm.response.json().errors[0].message).to.equal(\"Could not find user with matching barcode\"); ",
											"});",
											"",
											"pm.test(\"Validate schema\", function () {",
											"  tv4.addSchema(\"parameters.schema\", JSON.parse(pm.variables.get(\"schema_parameters_content\")));",
											"   tv4.addSchema(\"error.schema\", JSON.parse(pm.variables.get(\"schema_error_content\")));",
											"    pm.expect(tv4.validate(response, JSON.parse(pm.environment.get(\"schema_errors_content\")))).to.equal(true, \"Schema validation error: \" + JSON.stringify(tv4.error));",
											"   pm.expect(tv4.missing.length).to.equal(0, \"Missing schemas: \" + JSON.stringify(tv4.missing));",
											"});",
											"",
											"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
											"    pm.response.to.have.header(\"X-Okapi-Trace\");",
											"});",
											"",
											"",
											"",
											"",
											"",
											""
										]
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "d031aed3-8994-49a7-a0e8-569a03ce46e0",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-tenant",
										"value": "{{xokapitenant}}"
									},
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\"userBarcode\": \"{{$guid}}\",\n\"itemBarcode\":\"{{circ_test_itembarcode}}\"\n\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/check-out-by-barcode",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"circulation",
										"check-out-by-barcode"
									]
								}
							},
							"response": []
						},
						{
							"_postman_id": "a028a336-a58c-4663-9782-76c8e9403f3c",
							"name": "check-out-by-barcode - barcode of inactive user",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "7a995906-77ba-4f23-a06c-7543a50dc506",
										"type": "text/javascript",
										"exec": [
											"",
											"let response = JSON.parse(responseBody);",
											"",
											"pm.test(\"Status is 422\", function () {",
											"    pm.response.to.have.status(\"Unprocessable Entity\");",
											"});",
											"",
											"pm.test(\"Response must be valid and have a body\", function () {",
											"    pm.response.to.be.withBody;",
											"    pm.response.to.be.json; ",
											"});",
											"",
											"pm.test(\"Response contains correct data\", function () {",
											"    pm.expect(pm.response.json().errors[0].message).to.equal(\"Cannot check out to inactive user\"); ",
											"});",
											"",
											"pm.test(\"Validate schema\", function () {",
											"  tv4.addSchema(\"parameters.schema\", JSON.parse(pm.variables.get(\"schema_parameters_content\")));",
											"   tv4.addSchema(\"error.schema\", JSON.parse(pm.variables.get(\"schema_error_content\")));",
											"    pm.expect(tv4.validate(response, JSON.parse(pm.environment.get(\"schema_errors_content\")))).to.equal(true, \"Schema validation error: \" + JSON.stringify(tv4.error));",
											"   pm.expect(tv4.missing.length).to.equal(0, \"Missing schemas: \" + JSON.stringify(tv4.missing));",
											"});",
											"",
											"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
											"    pm.response.to.have.header(\"X-Okapi-Trace\");",
											"});",
											"",
											"",
											"",
											"",
											"",
											""
										]
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "d031aed3-8994-49a7-a0e8-569a03ce46e0",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-tenant",
										"value": "{{xokapitenant}}"
									},
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\"userBarcode\": \"{{circ_test_inactive_userbarcode}}\",\n\"itemBarcode\":\"{{circ_test_itembarcode}}\"\n\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/check-out-by-barcode",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"circulation",
										"check-out-by-barcode"
									]
								}
							},
							"response": []
						},
						{
							"_postman_id": "0577fb9e-4837-400f-8e5e-8c7641e9335b",
							"name": "check-out-by-barcode - incorrect proxy barcode",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "91bb4166-8b67-4c62-a106-2001edfc74c1",
										"type": "text/javascript",
										"exec": [
											"",
											"let response = JSON.parse(responseBody);",
											"",
											"pm.test(\"Status is 422\", function () {",
											"    pm.response.to.have.status(\"Unprocessable Entity\");",
											"});",
											"",
											"pm.test(\"Response must be valid and have a body\", function () {",
											"    pm.response.to.be.withBody;",
											"    pm.response.to.be.json; ",
											"});",
											"",
											"pm.test(\"Response contains correct data\", function () {",
											"    pm.expect(pm.response.json().errors[0].message).to.equal(\"Could not find user with matching barcode\"); ",
											"});",
											"",
											"pm.test(\"Validate schema\", function () {",
											"  tv4.addSchema(\"parameters.schema\", JSON.parse(pm.variables.get(\"schema_parameters_content\")));",
											"   tv4.addSchema(\"error.schema\", JSON.parse(pm.variables.get(\"schema_error_content\")));",
											"    pm.expect(tv4.validate(response, JSON.parse(pm.environment.get(\"schema_errors_content\")))).to.equal(true, \"Schema validation error: \" + JSON.stringify(tv4.error));",
											"   pm.expect(tv4.missing.length).to.equal(0, \"Missing schemas: \" + JSON.stringify(tv4.missing));",
											"});",
											"",
											"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
											"    pm.response.to.have.header(\"X-Okapi-Trace\");",
											"});",
											"",
											"",
											"",
											"",
											"",
											""
										]
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "d031aed3-8994-49a7-a0e8-569a03ce46e0",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-tenant",
										"value": "{{xokapitenant}}"
									},
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\"userBarcode\": \"{{circ_test_userbarcode}}\",\n\"proxyUserBarcode\": \"{{$guid}}\",\n\"itemBarcode\":\"{{circ_test_itembarcode}}\"\n\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/check-out-by-barcode",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"circulation",
										"check-out-by-barcode"
									]
								}
							},
							"response": []
						},
						{
							"_postman_id": "dd010ec0-c8d9-48c1-8a4c-4dac1bdcd054",
							"name": "check-out-by-barcode - proxy via inactive user",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "75fc3db9-21b9-4567-886a-8bba55c3b392",
										"type": "text/javascript",
										"exec": [
											"",
											"let response = JSON.parse(responseBody);",
											"",
											"pm.test(\"Status is 422\", function () {",
											"    pm.response.to.have.status(\"Unprocessable Entity\");",
											"});",
											"",
											"pm.test(\"Response must be valid and have a body\", function () {",
											"    pm.response.to.be.withBody;",
											"    pm.response.to.be.json; ",
											"});",
											"",
											"pm.test(\"Response contains correct data\", function () {",
											"    pm.expect(pm.response.json().errors[0].message).to.equal(\"Cannot check out via inactive proxying user\"); ",
											"});",
											"",
											"pm.test(\"Validate schema\", function () {",
											"  tv4.addSchema(\"parameters.schema\", JSON.parse(pm.variables.get(\"schema_parameters_content\")));",
											"   tv4.addSchema(\"error.schema\", JSON.parse(pm.variables.get(\"schema_error_content\")));",
											"    pm.expect(tv4.validate(response, JSON.parse(pm.environment.get(\"schema_errors_content\")))).to.equal(true, \"Schema validation error: \" + JSON.stringify(tv4.error));",
											"   pm.expect(tv4.missing.length).to.equal(0, \"Missing schemas: \" + JSON.stringify(tv4.missing));",
											"});",
											"",
											"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
											"    pm.response.to.have.header(\"X-Okapi-Trace\");",
											"});",
											"",
											"",
											"",
											"",
											"",
											""
										]
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "d031aed3-8994-49a7-a0e8-569a03ce46e0",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-tenant",
										"value": "{{xokapitenant}}"
									},
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\"userBarcode\": \"{{circ_test_userbarcode}}\",\n\"proxyUserBarcode\": \"{{circ_test_inactive_userbarcode}}\",\n\"itemBarcode\":\"{{circ_test_itembarcode}}\"\n\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/check-out-by-barcode",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"circulation",
										"check-out-by-barcode"
									]
								}
							},
							"response": []
						},
						{
							"_postman_id": "280a1464-83d5-46a1-8dc4-4329da5a07a8",
							"name": "check-out-by-barcode - proxy via active user to inactive user",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "1c86c124-6b15-4599-b7e1-fc872cc09e1f",
										"type": "text/javascript",
										"exec": [
											"",
											"let response = JSON.parse(responseBody);",
											"",
											"pm.test(\"Status is 422\", function () {",
											"    pm.response.to.have.status(\"Unprocessable Entity\");",
											"});",
											"",
											"pm.test(\"Response must be valid and have a body\", function () {",
											"    pm.response.to.be.withBody;",
											"    pm.response.to.be.json; ",
											"});",
											"",
											"pm.test(\"Response contains correct data\", function () {",
											"    pm.expect(pm.response.json().errors[0].message).to.equal(\"Cannot check out to inactive user\"); ",
											"});",
											"",
											"pm.test(\"Validate schema\", function () {",
											"  tv4.addSchema(\"parameters.schema\", JSON.parse(pm.variables.get(\"schema_parameters_content\")));",
											"   tv4.addSchema(\"error.schema\", JSON.parse(pm.variables.get(\"schema_error_content\")));",
											"    pm.expect(tv4.validate(response, JSON.parse(pm.environment.get(\"schema_errors_content\")))).to.equal(true, \"Schema validation error: \" + JSON.stringify(tv4.error));",
											"   pm.expect(tv4.missing.length).to.equal(0, \"Missing schemas: \" + JSON.stringify(tv4.missing));",
											"});",
											"",
											"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
											"    pm.response.to.have.header(\"X-Okapi-Trace\");",
											"});",
											"",
											"",
											"",
											"",
											"",
											""
										]
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "d031aed3-8994-49a7-a0e8-569a03ce46e0",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-tenant",
										"value": "{{xokapitenant}}"
									},
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\"userBarcode\": \"{{circ_test_inactive_userbarcode}}\",\n\"proxyUserBarcode\": \"{{circ_test_userbarcode}}\",\n\"itemBarcode\":\"{{circ_test_itembarcode}}\"\n\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/check-out-by-barcode",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"circulation",
										"check-out-by-barcode"
									]
								}
							},
							"response": []
						},
						{
							"_postman_id": "353ebe1f-a947-4c7b-b65e-c0b7c8594f28",
							"name": "check-out-by-barcode - invalid item barcode",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "980cbfa1-8416-4ef7-bbc0-e102b7222803",
										"type": "text/javascript",
										"exec": [
											"",
											"let response = JSON.parse(responseBody);",
											"",
											"pm.test(\"Status is 422\", function () {",
											"    pm.response.to.have.status(\"Unprocessable Entity\");",
											"});",
											"",
											"pm.test(\"Response must be valid and have a body\", function () {",
											"    pm.response.to.be.withBody;",
											"    pm.response.to.be.json; ",
											"});",
											"",
											"pm.test(\"Response contains correct data\", function () {",
											"    pm.expect(pm.response.json().errors[0].message).to.equal(\"No item with barcode invalid_barcode could be found\"); ",
											"});",
											"",
											"pm.test(\"Validate schema\", function () {",
											"  tv4.addSchema(\"parameters.schema\", JSON.parse(pm.variables.get(\"schema_parameters_content\")));",
											"   tv4.addSchema(\"error.schema\", JSON.parse(pm.variables.get(\"schema_error_content\")));",
											"    pm.expect(tv4.validate(response, JSON.parse(pm.environment.get(\"schema_errors_content\")))).to.equal(true, \"Schema validation error: \" + JSON.stringify(tv4.error));",
											"   pm.expect(tv4.missing.length).to.equal(0, \"Missing schemas: \" + JSON.stringify(tv4.missing));",
											"});",
											"",
											"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
											"    pm.response.to.have.header(\"X-Okapi-Trace\");",
											"});",
											"",
											"",
											"",
											"",
											"",
											""
										]
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "d031aed3-8994-49a7-a0e8-569a03ce46e0",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-tenant",
										"value": "{{xokapitenant}}"
									},
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\"userBarcode\": \"{{circ_test_userbarcode}}\",\n\"itemBarcode\":\"invalid_barcode\"\n\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/check-out-by-barcode",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"circulation",
										"check-out-by-barcode"
									]
								}
							},
							"response": []
						},
						{
							"_postman_id": "7aa45d19-e646-4910-92ed-ff22d21db461",
							"name": "check-out-by-barcode - required fields only - should succeed",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "d9ebed85-4fd9-4c62-a0f3-359cf2e5e837",
										"type": "text/javascript",
										"exec": [
											"",
											"let response = JSON.parse(responseBody);",
											"pm.environment.set(\"barcode_checkout_id\", response.id);",
											"",
											"pm.test(\"Status is 201\", function () {",
											"    pm.response.to.have.status(\"Created\");",
											"});",
											"",
											"pm.test(\"Response must be valid and have a body\", function () {",
											"    pm.response.to.be.withBody;",
											"    pm.response.to.be.json; ",
											"});",
											"",
											"pm.test(\"Response contains correct data\", function () {",
											"    pm.expect(response.userId).to.equal(pm.environment.get(\"circ_test_userid\")); ",
											"    pm.expect(response.itemId).to.equal(pm.environment.get(\"circ_test_itemid\")); ",
											"});",
											"",
											"pm.test(\"Validate schema\", function () {",
											"   tv4.addSchema(\"raml-util/schemas/metadata.schema\", JSON.parse(pm.variables.get(\"schema_metadata_content\")));",
											"    pm.expect(tv4.validate(response, JSON.parse(pm.environment.get(\"schema_loan_content\")))).to.equal(true, \"Schema validation error: \" + JSON.stringify(tv4.error));",
											"   pm.expect(tv4.missing.length).to.equal(0, \"Missing schemas: \" + JSON.stringify(tv4.missing));",
											"});",
											"",
											"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
											"    pm.response.to.have.header(\"X-Okapi-Trace\");",
											"});",
											"",
											"",
											"",
											"",
											"",
											""
										]
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "d031aed3-8994-49a7-a0e8-569a03ce46e0",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-tenant",
										"value": "{{xokapitenant}}"
									},
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\"userBarcode\": \"{{circ_test_userbarcode}}\",\n\"itemBarcode\":\"{{circ_test_itembarcode}}\"\n\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/check-out-by-barcode",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"circulation",
										"check-out-by-barcode"
									]
								}
							},
							"response": []
						},
						{
							"_postman_id": "c4478985-aa5b-4ae7-a923-220b7215674a",
							"name": "check-out-by-barcode - duplicate entry",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "9e5325d0-5572-4a0b-8d41-1d48225a4a09",
										"type": "text/javascript",
										"exec": [
											"",
											"let response = JSON.parse(responseBody);",
											"",
											"pm.test(\"Status is 422\", function () {",
											"    pm.response.to.have.status(\"Unprocessable Entity\");",
											"});",
											"",
											"pm.test(\"Response must be valid and have a body\", function () {",
											"    pm.response.to.be.withBody;",
											"    pm.response.to.be.json; ",
											"});",
											"",
											"pm.test(\"Response contains correct data\", function () {",
											"    pm.expect(pm.response.json().errors[0].message).to.equal(\"Item is already checked out\"); ",
											"});",
											"",
											"pm.test(\"Validate schema\", function () {",
											"  tv4.addSchema(\"parameters.schema\", JSON.parse(pm.variables.get(\"schema_parameters_content\")));",
											"   tv4.addSchema(\"error.schema\", JSON.parse(pm.variables.get(\"schema_error_content\")));",
											"    pm.expect(tv4.validate(response, JSON.parse(pm.environment.get(\"schema_errors_content\")))).to.equal(true, \"Schema validation error: \" + JSON.stringify(tv4.error));",
											"   pm.expect(tv4.missing.length).to.equal(0, \"Missing schemas: \" + JSON.stringify(tv4.missing));",
											"});",
											"",
											"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
											"    pm.response.to.have.header(\"X-Okapi-Trace\");",
											"});",
											"",
											"",
											"",
											"",
											"",
											""
										]
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "d031aed3-8994-49a7-a0e8-569a03ce46e0",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-tenant",
										"value": "{{xokapitenant}}"
									},
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\"userBarcode\": \"{{circ_test_userbarcode}}\",\n\"itemBarcode\":\"{{circ_test_itembarcode}}\"\n\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/check-out-by-barcode",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"circulation",
										"check-out-by-barcode"
									]
								}
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				},
				{
					"_postman_id": "71ef481c-29b7-4efe-9822-c5da1598bdac",
					"name": "cleanup",
					"item": [
						{
							"_postman_id": "5aa16e2c-b725-48d2-a33e-3f21b067cebe",
							"name": "/circulation/loans/{id} - returning item",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "f328235f-0e2f-476e-be7d-52a5f59f2cb8",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status is 204\", function () {",
											"    pm.response.to.have.status(\"No Content\");",
											"});",
											""
										]
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "a0c38d04-ccaa-4139-b01d-ad429906b8a3",
										"type": "text/javascript",
										"exec": [
											"let today = new Date();",
											"let day = today.getDate();",
											"let month = today.getMonth() + 1; //January is 0!",
											"let year = today.getFullYear();",
											"",
											"if(day < 10) {",
											"    day = '0' + day;",
											"} ",
											"",
											"if(month < 10) {",
											"    month = '0'+ month;",
											"} ",
											"",
											"today = year + \"-\" + month + \"-\" + day;",
											"",
											"console.log(today);",
											"pm.variables.set(\"today\", today);"
										]
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-okapi-tenant",
										"value": "{{xokapitenant}}"
									},
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\"userId\": \"{{circ_test_userid}}\",\n\"itemId\":\"{{circ_test_itemid}}\",\n\"loanDate\": \"{{today}}\",\n\"action\": \"checkedin\",\n\"status\": {\n        \"name\": \"Closed\"\n    }\n\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/loans/{{barcode_checkout_id}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"circulation",
										"loans",
										"{{barcode_checkout_id}}"
									]
								}
							},
							"response": []
						},
						{
							"_postman_id": "deb6a2d1-2f7e-464a-94ad-84239da0606a",
							"name": "/circulation/loans/{id}  - delete loan",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "90b9aea6-80f5-46b6-878a-a3f7d3477e70",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status is 204\", function () {",
											"    pm.response.to.have.status(\"No Content\");",
											"});",
											"",
											"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
											"    pm.response.to.have.header(\"X-Okapi-Trace\");",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "x-okapi-tenant",
										"value": "{{xokapitenant}}"
									},
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/loans/{{barcode_checkout_id}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"circulation",
										"loans",
										"{{barcode_checkout_id}}"
									]
								}
							},
							"response": []
						},
						{
							"_postman_id": "d3a3b251-f552-41e8-a6fa-13abc445e4a3",
							"name": "/circulation/loans{id} - verify delete",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "afdfa2c8-33de-4103-82ad-784b64a041dc",
										"type": "text/javascript",
										"exec": [
											"",
											"pm.test(\"Status is 404\", function () {",
											"    pm.response.to.have.status(\"Not Found\");",
											"});",
											"",
											"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
											"    pm.response.to.have.header(\"X-Okapi-Trace\");",
											"});",
											"",
											"",
											"// pm.environment.unset(\"circ_test_userid\");",
											"// pm.environment.unset(\"circ_test_itemid\");",
											"// pm.environment.unset(\"test_recipientId\");",
											"// pm.environment.unset(\"generic_loanid\");",
											"// pm.environment.unset(\"loanRulesAsTextFile\");",
											"// pm.environment.unset(\"newrequestid\");",
											"",
											"",
											"// //schema variables",
											"// pm.environment.unset(\"schema_parameters_content\");",
											"// pm.environment.unset(\"schema_error_content\");",
											"// pm.environment.unset(\"schema_errors_content\");",
											"// pm.environment.unset(\"schema_metadata_content\");",
											"// pm.environment.unset(\"schema_loans_content\");",
											"// pm.environment.unset(\"schema_loan_content\");",
											"// pm.environment.unset(\"schema_loan-rules_content\");",
											"// pm.environment.unset(\"schema_loan-rule_content\");",
											"// pm.environment.unset(\"schema_loan-rule-matches_content\");",
											"// pm.environment.unset(\"schema_loan-rule-match_content\");",
											"// pm.environment.unset(\"schema_requests_content\");",
											"// pm.environment.unset(\"schema_request_content\");",
											"// pm.environment.unset(\"schema_loan-policy-id_content\");",
											"",
											"",
											""
										]
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-tenant",
										"value": "{{xokapitenant}}"
									},
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/loans/{{barcode_checkout_id}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"circulation",
										"loans",
										"{{barcode_checkout_id}}"
									]
								}
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				}
			]
		},
		{
			"_postman_id": "09da2f46-61c9-472e-bc07-a3f453f16d22",
			"name": "circulation/renew-by-barcode",
			"item": [
				{
					"_postman_id": "3957baa5-f400-4ae6-b8af-9ed1e8648d67",
					"name": "positive",
					"item": [
						{
							"_postman_id": "9e30ed93-d553-44b8-acbf-a5017444884e",
							"name": "check-out-by-barcode - setting up the loan",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "d9ebed85-4fd9-4c62-a0f3-359cf2e5e837",
										"type": "text/javascript",
										"exec": [
											"",
											"let response = JSON.parse(responseBody);",
											"pm.environment.set(\"barcode_checkout_id\", response.id);",
											"",
											"pm.test(\"Status is 201\", function () {",
											"    pm.response.to.have.status(\"Created\");",
											"});",
											"",
											"pm.test(\"Response must be valid and have a body\", function () {",
											"    pm.response.to.be.withBody;",
											"    pm.response.to.be.json; ",
											"});",
											"",
											"pm.test(\"Response contains correct data\", function () {",
											"    pm.expect(response.userId).to.equal(pm.environment.get(\"circ_test_userid\")); ",
											"    pm.expect(response.itemId).to.equal(pm.environment.get(\"circ_test_itemid\")); ",
											"});",
											"",
											"pm.test(\"Validate schema\", function () {",
											"   tv4.addSchema(\"raml-util/schemas/metadata.schema\", JSON.parse(pm.variables.get(\"schema_metadata_content\")));",
											"    pm.expect(tv4.validate(response, JSON.parse(pm.environment.get(\"schema_loan_content\")))).to.equal(true, \"Schema validation error: \" + JSON.stringify(tv4.error));",
											"   pm.expect(tv4.missing.length).to.equal(0, \"Missing schemas: \" + JSON.stringify(tv4.missing));",
											"});",
											"",
											"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
											"    pm.response.to.have.header(\"X-Okapi-Trace\");",
											"});",
											"",
											"",
											"",
											"",
											"",
											""
										]
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "d031aed3-8994-49a7-a0e8-569a03ce46e0",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-tenant",
										"value": "{{xokapitenant}}"
									},
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\"userBarcode\": \"{{circ_test_userbarcode}}\",\n\"itemBarcode\":\"{{circ_test_itembarcode}}\"\n\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/check-out-by-barcode",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"circulation",
										"check-out-by-barcode"
									]
								}
							},
							"response": []
						},
						{
							"_postman_id": "37ca2d26-f9ac-4c6d-941e-0a3773f8c36a",
							"name": "renew-by-barcode",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "3b798403-befd-4000-b193-3dfb3d56b071",
										"type": "text/javascript",
										"exec": [
											"",
											"let response = JSON.parse(responseBody);",
											"pm.environment.set(\"barcode_checkout_id\", response.id);",
											"",
											"pm.test(\"Status is 200\", function () {",
											"    pm.response.to.have.status(\"OK\");",
											"});",
											"",
											"pm.test(\"Response must be valid and have a body\", function () {",
											"    pm.response.to.be.withBody;",
											"    pm.response.to.be.json; ",
											"});",
											"",
											"pm.test(\"Response contains correct data\", function () {",
											"    pm.expect(response.userId).to.equal(pm.environment.get(\"circ_test_userid\")); ",
											"    pm.expect(response.itemId).to.equal(pm.environment.get(\"circ_test_itemid\")); ",
											"    pm.expect(response.action).to.equal(\"renewed\");",
											"    pm.expect(response.renewalCount).to.equal(1);",
											"     ",
											"});",
											"",
											"pm.test(\"Validate schema\", function () {",
											"   tv4.addSchema(\"raml-util/schemas/metadata.schema\", JSON.parse(pm.variables.get(\"schema_metadata_content\")));",
											"    pm.expect(tv4.validate(response, JSON.parse(pm.environment.get(\"schema_loan_content\")))).to.equal(true, \"Schema validation error: \" + JSON.stringify(tv4.error));",
											"   pm.expect(tv4.missing.length).to.equal(0, \"Missing schemas: \" + JSON.stringify(tv4.missing));",
											"});",
											"",
											"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
											"    pm.response.to.have.header(\"X-Okapi-Trace\");",
											"});",
											"",
											"",
											"",
											"",
											"",
											""
										]
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "d031aed3-8994-49a7-a0e8-569a03ce46e0",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-tenant",
										"value": "{{xokapitenant}}"
									},
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\"userBarcode\": \"{{circ_test_userbarcode}}\",\n\"itemBarcode\":\"{{circ_test_itembarcode}}\"\n\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/renew-by-barcode",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"circulation",
										"renew-by-barcode"
									]
								}
							},
							"response": []
						},
						{
							"_postman_id": "5b0ad711-5ef3-42dc-a1e5-0374dd709590",
							"name": "renew-by-barcode - another renew",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "1c5c03c3-2d54-44e8-a3f7-485855ac0a83",
										"type": "text/javascript",
										"exec": [
											"",
											"let response = JSON.parse(responseBody);",
											"pm.environment.set(\"barcode_checkout_id\", response.id);",
											"",
											"pm.test(\"Status is 200\", function () {",
											"    pm.response.to.have.status(\"OK\");",
											"});",
											"",
											"pm.test(\"Response must be valid and have a body\", function () {",
											"    pm.response.to.be.withBody;",
											"    pm.response.to.be.json; ",
											"});",
											"",
											"pm.test(\"Response contains correct data\", function () {",
											"    pm.expect(response.userId).to.equal(pm.environment.get(\"circ_test_userid\")); ",
											"    pm.expect(response.itemId).to.equal(pm.environment.get(\"circ_test_itemid\")); ",
											"    pm.expect(response.action).to.equal(\"renewed\");",
											"    pm.expect(response.renewalCount).to.equal(2);",
											"     ",
											"});",
											"",
											"pm.test(\"Validate schema\", function () {",
											"   tv4.addSchema(\"raml-util/schemas/metadata.schema\", JSON.parse(pm.variables.get(\"schema_metadata_content\")));",
											"    pm.expect(tv4.validate(response, JSON.parse(pm.environment.get(\"schema_loan_content\")))).to.equal(true, \"Schema validation error: \" + JSON.stringify(tv4.error));",
											"   pm.expect(tv4.missing.length).to.equal(0, \"Missing schemas: \" + JSON.stringify(tv4.missing));",
											"});",
											"",
											"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
											"    pm.response.to.have.header(\"X-Okapi-Trace\");",
											"});",
											"",
											"",
											"",
											"",
											"",
											""
										]
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "d031aed3-8994-49a7-a0e8-569a03ce46e0",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-tenant",
										"value": "{{xokapitenant}}"
									},
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\"userBarcode\": \"{{circ_test_userbarcode}}\",\n\"itemBarcode\":\"{{circ_test_itembarcode}}\"\n\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/renew-by-barcode",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"circulation",
										"renew-by-barcode"
									]
								}
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				},
				{
					"_postman_id": "fe87fc8d-ff30-42a9-bbe4-9ea3f8fbb09c",
					"name": "negative",
					"item": [
						{
							"_postman_id": "48629950-ae99-43cd-b7b8-8a95f65d1d6b",
							"name": "renew-by-barcode - non-existent user barcode",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "67e95de1-0b37-41ca-93e0-bef531c93061",
										"type": "text/javascript",
										"exec": [
											"",
											"let response = JSON.parse(responseBody);",
											"",
											"pm.test(\"Status is 422\", function () {",
											"    pm.response.to.have.status(\"Unprocessable Entity\");",
											"});",
											"",
											"pm.test(\"Response must be valid and have a body\", function () {",
											"    pm.response.to.be.withBody;",
											"    pm.response.to.be.json; ",
											"});",
											"",
											"pm.test(\"Response contains correct data\", function () {",
											"    pm.expect(pm.response.json().errors[0].message).to.equal(\"Cannot renew item checked out to different user\"); ",
											"});",
											"",
											"pm.test(\"Validate schema\", function () {",
											"  tv4.addSchema(\"parameters.schema\", JSON.parse(pm.variables.get(\"schema_parameters_content\")));",
											"   tv4.addSchema(\"error.schema\", JSON.parse(pm.variables.get(\"schema_error_content\")));",
											"    pm.expect(tv4.validate(response, JSON.parse(pm.environment.get(\"schema_errors_content\")))).to.equal(true, \"Schema validation error: \" + JSON.stringify(tv4.error));",
											"   pm.expect(tv4.missing.length).to.equal(0, \"Missing schemas: \" + JSON.stringify(tv4.missing));",
											"});",
											"",
											"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
											"    pm.response.to.have.header(\"X-Okapi-Trace\");",
											"});",
											"",
											"",
											"",
											"",
											"",
											""
										]
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "d031aed3-8994-49a7-a0e8-569a03ce46e0",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-tenant",
										"value": "{{xokapitenant}}"
									},
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\"userBarcode\": \"{{$guid}}\",\n\"itemBarcode\":\"{{circ_test_itembarcode}}\"\n\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/renew-by-barcode",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"circulation",
										"renew-by-barcode"
									]
								}
							},
							"response": []
						},
						{
							"_postman_id": "20f18d68-5757-47d8-ac9b-79815a249056",
							"name": "renew-by-barcode - additional properties",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "01144367-90a1-437d-8164-9b72a4e3e72a",
										"type": "text/javascript",
										"exec": [
											"",
											"let response = JSON.parse(responseBody);",
											"//should not allow",
											"pm.test(\"Status is 200\", function () {",
											"    pm.response.to.have.status(\"OK\");",
											"});",
											"",
											"pm.test(\"Response must be valid and have a body\", function () {",
											"    pm.response.to.be.withBody;",
											"    pm.response.to.be.json; ",
											"});",
											"",
											"",
											"pm.test(\"Validate schema\", function () {",
											"  tv4.addSchema(\"parameters.schema\", JSON.parse(pm.variables.get(\"schema_parameters_content\")));",
											"   tv4.addSchema(\"error.schema\", JSON.parse(pm.variables.get(\"schema_error_content\")));",
											"    pm.expect(tv4.validate(response, JSON.parse(pm.environment.get(\"schema_errors_content\")))).to.equal(true, \"Schema validation error: \" + JSON.stringify(tv4.error));",
											"   pm.expect(tv4.missing.length).to.equal(0, \"Missing schemas: \" + JSON.stringify(tv4.missing));",
											"});",
											"",
											"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
											"    pm.response.to.have.header(\"X-Okapi-Trace\");",
											"});",
											"",
											"",
											"",
											"",
											"",
											""
										]
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "d031aed3-8994-49a7-a0e8-569a03ce46e0",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-tenant",
										"value": "{{xokapitenant}}"
									},
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\"userBarcode\": \"{{circ_test_userbarcode}}\",\n\"additionalProperties\": \"should not be allowed\",\n\"itemBarcode\":\"{{circ_test_itembarcode}}\"\n\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/renew-by-barcode",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"circulation",
										"renew-by-barcode"
									]
								}
							},
							"response": []
						},
						{
							"_postman_id": "3977fa86-4e8c-4c5b-9207-96793a01b239",
							"name": "renew-by-barcode - invalid item barcode",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "c9d710b0-2c5e-44a4-b054-acc6d6a2adbe",
										"type": "text/javascript",
										"exec": [
											"",
											"let response = JSON.parse(responseBody);",
											"",
											"pm.test(\"Status is 422\", function () {",
											"    pm.response.to.have.status(\"Unprocessable Entity\");",
											"});",
											"",
											"pm.test(\"Response must be valid and have a body\", function () {",
											"    pm.response.to.be.withBody;",
											"    pm.response.to.be.json; ",
											"});",
											"",
											"pm.test(\"Response contains correct data\", function () {",
											"    pm.expect(pm.response.json().errors[0].message).to.equal(\"No item with barcode invalid-barcode exists\"); ",
											"});",
											"",
											"pm.test(\"Validate schema\", function () {",
											"  tv4.addSchema(\"parameters.schema\", JSON.parse(pm.variables.get(\"schema_parameters_content\")));",
											"   tv4.addSchema(\"error.schema\", JSON.parse(pm.variables.get(\"schema_error_content\")));",
											"    pm.expect(tv4.validate(response, JSON.parse(pm.environment.get(\"schema_errors_content\")))).to.equal(true, \"Schema validation error: \" + JSON.stringify(tv4.error));",
											"   pm.expect(tv4.missing.length).to.equal(0, \"Missing schemas: \" + JSON.stringify(tv4.missing));",
											"});",
											"",
											"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
											"    pm.response.to.have.header(\"X-Okapi-Trace\");",
											"});",
											"",
											"",
											"",
											"",
											"",
											""
										]
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "d031aed3-8994-49a7-a0e8-569a03ce46e0",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-tenant",
										"value": "{{xokapitenant}}"
									},
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\"userBarcode\": \"{{circ_test_userbarcode}}\",\n\"itemBarcode\":\"invalid-barcode\"\n\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/renew-by-barcode",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"circulation",
										"renew-by-barcode"
									]
								}
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				},
				{
					"_postman_id": "0f3d6214-36c9-41bd-8b69-a8911e3a41bc",
					"name": "cleanup",
					"item": [
						{
							"_postman_id": "2cdacfef-02f7-4c7e-bd57-410f204594fa",
							"name": "/circulation/loans/{id} - returning item",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "f328235f-0e2f-476e-be7d-52a5f59f2cb8",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status is 204\", function () {",
											"    pm.response.to.have.status(\"No Content\");",
											"});",
											""
										]
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "a0c38d04-ccaa-4139-b01d-ad429906b8a3",
										"type": "text/javascript",
										"exec": [
											"let today = new Date();",
											"let day = today.getDate();",
											"let month = today.getMonth() + 1; //January is 0!",
											"let year = today.getFullYear();",
											"",
											"if(day < 10) {",
											"    day = '0' + day;",
											"} ",
											"",
											"if(month < 10) {",
											"    month = '0'+ month;",
											"} ",
											"",
											"today = year + \"-\" + month + \"-\" + day;",
											"",
											"console.log(today);",
											"pm.variables.set(\"today\", today);"
										]
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-okapi-tenant",
										"value": "{{xokapitenant}}"
									},
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\"userId\": \"{{circ_test_userid}}\",\n\"itemId\":\"{{circ_test_itemid}}\",\n\"loanDate\": \"{{today}}\",\n\"action\": \"checkedin\",\n\"status\": {\n        \"name\": \"Closed\"\n    }\n\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/loans/{{barcode_checkout_id}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"circulation",
										"loans",
										"{{barcode_checkout_id}}"
									]
								}
							},
							"response": []
						},
						{
							"_postman_id": "b31926d7-2b59-4151-a3cb-a2404176fc70",
							"name": "/circulation/loans/{id}  - delete loan",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "90b9aea6-80f5-46b6-878a-a3f7d3477e70",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status is 204\", function () {",
											"    pm.response.to.have.status(\"No Content\");",
											"});",
											"",
											"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
											"    pm.response.to.have.header(\"X-Okapi-Trace\");",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "x-okapi-tenant",
										"value": "{{xokapitenant}}"
									},
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/loans/{{barcode_checkout_id}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"circulation",
										"loans",
										"{{barcode_checkout_id}}"
									]
								}
							},
							"response": []
						},
						{
							"_postman_id": "30bcbb5e-b250-40a0-9394-062534c0bd74",
							"name": "/circulation/loans{id} - verify delete",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "afdfa2c8-33de-4103-82ad-784b64a041dc",
										"type": "text/javascript",
										"exec": [
											"",
											"pm.test(\"Status is 404\", function () {",
											"    pm.response.to.have.status(\"Not Found\");",
											"});",
											"",
											"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
											"    pm.response.to.have.header(\"X-Okapi-Trace\");",
											"});",
											"",
											"",
											"// pm.environment.unset(\"circ_test_userid\");",
											"// pm.environment.unset(\"circ_test_itemid\");",
											"// pm.environment.unset(\"test_recipientId\");",
											"// pm.environment.unset(\"generic_loanid\");",
											"// pm.environment.unset(\"loanRulesAsTextFile\");",
											"// pm.environment.unset(\"newrequestid\");",
											"",
											"",
											"// //schema variables",
											"// pm.environment.unset(\"schema_parameters_content\");",
											"// pm.environment.unset(\"schema_error_content\");",
											"// pm.environment.unset(\"schema_errors_content\");",
											"// pm.environment.unset(\"schema_metadata_content\");",
											"// pm.environment.unset(\"schema_loans_content\");",
											"// pm.environment.unset(\"schema_loan_content\");",
											"// pm.environment.unset(\"schema_loan-rules_content\");",
											"// pm.environment.unset(\"schema_loan-rule_content\");",
											"// pm.environment.unset(\"schema_loan-rule-matches_content\");",
											"// pm.environment.unset(\"schema_loan-rule-match_content\");",
											"// pm.environment.unset(\"schema_requests_content\");",
											"// pm.environment.unset(\"schema_request_content\");",
											"// pm.environment.unset(\"schema_loan-policy-id_content\");",
											"",
											"",
											""
										]
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-tenant",
										"value": "{{xokapitenant}}"
									},
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/loans/{{barcode_checkout_id}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"circulation",
										"loans",
										"{{barcode_checkout_id}}"
									]
								}
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "157bef13-e6c4-455d-9c31-9d276215ee39",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "6de4d878-f472-4bc3-98da-fca0ca9f2065",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"_postman_id": "59e9db61-1985-49ac-bfad-f4bed7d119bd",
			"name": "circulation/renew-by-id",
			"item": [
				{
					"_postman_id": "49a89265-921f-414a-9304-396127155655",
					"name": "positive",
					"item": [
						{
							"_postman_id": "6089a743-633a-4715-8ff3-4037eab28537",
							"name": "check-out-by-barcode - setting up the loan",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "d9ebed85-4fd9-4c62-a0f3-359cf2e5e837",
										"type": "text/javascript",
										"exec": [
											"",
											"let response = JSON.parse(responseBody);",
											"pm.environment.set(\"barcode_checkout_id\", response.id);",
											"",
											"pm.test(\"Status is 201\", function () {",
											"    pm.response.to.have.status(\"Created\");",
											"});",
											"",
											"pm.test(\"Response must be valid and have a body\", function () {",
											"    pm.response.to.be.withBody;",
											"    pm.response.to.be.json; ",
											"});",
											"",
											"pm.test(\"Response contains correct data\", function () {",
											"    pm.expect(response.userId).to.equal(pm.environment.get(\"circ_test_userid\")); ",
											"    pm.expect(response.itemId).to.equal(pm.environment.get(\"circ_test_itemid\")); ",
											"});",
											"",
											"pm.test(\"Validate schema\", function () {",
											"   tv4.addSchema(\"raml-util/schemas/metadata.schema\", JSON.parse(pm.variables.get(\"schema_metadata_content\")));",
											"    pm.expect(tv4.validate(response, JSON.parse(pm.environment.get(\"schema_loan_content\")))).to.equal(true, \"Schema validation error: \" + JSON.stringify(tv4.error));",
											"   pm.expect(tv4.missing.length).to.equal(0, \"Missing schemas: \" + JSON.stringify(tv4.missing));",
											"});",
											"",
											"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
											"    pm.response.to.have.header(\"X-Okapi-Trace\");",
											"});",
											"",
											"",
											"",
											"",
											"",
											""
										]
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "d031aed3-8994-49a7-a0e8-569a03ce46e0",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-tenant",
										"value": "{{xokapitenant}}"
									},
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\"userBarcode\": \"{{circ_test_userbarcode}}\",\n\"itemBarcode\":\"{{circ_test_itembarcode}}\"\n\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/check-out-by-barcode",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"circulation",
										"check-out-by-barcode"
									]
								}
							},
							"response": []
						},
						{
							"_postman_id": "b2773ed6-95e4-4c41-b907-319efe6bb62b",
							"name": "renew-by-id",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "b626a238-5ea5-45df-a425-f30cd6b0f499",
										"type": "text/javascript",
										"exec": [
											"",
											"let response = JSON.parse(responseBody);",
											"pm.environment.set(\"barcode_checkout_id\", response.id);",
											"",
											"pm.test(\"Status is 200\", function () {",
											"    pm.response.to.have.status(\"OK\");",
											"});",
											"",
											"pm.test(\"Response must be valid and have a body\", function () {",
											"    pm.response.to.be.withBody;",
											"    pm.response.to.be.json; ",
											"});",
											"",
											"pm.test(\"Response contains correct data\", function () {",
											"    pm.expect(response.userId).to.equal(pm.environment.get(\"circ_test_userid\")); ",
											"    pm.expect(response.itemId).to.equal(pm.environment.get(\"circ_test_itemid\")); ",
											"    pm.expect(response.action).to.equal(\"renewed\");",
											"    pm.expect(response.renewalCount).to.equal(1);",
											"     ",
											"});",
											"",
											"pm.test(\"Validate schema\", function () {",
											"   tv4.addSchema(\"raml-util/schemas/metadata.schema\", JSON.parse(pm.variables.get(\"schema_metadata_content\")));",
											"    pm.expect(tv4.validate(response, JSON.parse(pm.environment.get(\"schema_loan_content\")))).to.equal(true, \"Schema validation error: \" + JSON.stringify(tv4.error));",
											"   pm.expect(tv4.missing.length).to.equal(0, \"Missing schemas: \" + JSON.stringify(tv4.missing));",
											"});",
											"",
											"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
											"    pm.response.to.have.header(\"X-Okapi-Trace\");",
											"});",
											"",
											"",
											"",
											"",
											"",
											""
										]
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "d031aed3-8994-49a7-a0e8-569a03ce46e0",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-tenant",
										"value": "{{xokapitenant}}"
									},
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\"userId\": \"{{circ_test_userid}}\",\n\"itemId\":\"{{circ_test_itemid}}\"\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/renew-by-id",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"circulation",
										"renew-by-id"
									]
								}
							},
							"response": []
						},
						{
							"_postman_id": "d6de0f2c-3b08-46ba-9b1e-bad27b902de5",
							"name": "renew-by-barcode - another renew",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "7ff66278-7625-4ba1-ae23-88eb67facd9d",
										"type": "text/javascript",
										"exec": [
											"",
											"let response = JSON.parse(responseBody);",
											"pm.environment.set(\"barcode_checkout_id\", response.id);",
											"",
											"pm.test(\"Status is 200\", function () {",
											"    pm.response.to.have.status(\"OK\");",
											"});",
											"",
											"pm.test(\"Response must be valid and have a body\", function () {",
											"    pm.response.to.be.withBody;",
											"    pm.response.to.be.json; ",
											"});",
											"",
											"pm.test(\"Response contains correct data\", function () {",
											"    pm.expect(response.userId).to.equal(pm.environment.get(\"circ_test_userid\")); ",
											"    pm.expect(response.itemId).to.equal(pm.environment.get(\"circ_test_itemid\")); ",
											"    pm.expect(response.action).to.equal(\"renewed\");",
											"    pm.expect(response.renewalCount).to.equal(2);",
											"     ",
											"});",
											"",
											"pm.test(\"Validate schema\", function () {",
											"   tv4.addSchema(\"raml-util/schemas/metadata.schema\", JSON.parse(pm.variables.get(\"schema_metadata_content\")));",
											"    pm.expect(tv4.validate(response, JSON.parse(pm.environment.get(\"schema_loan_content\")))).to.equal(true, \"Schema validation error: \" + JSON.stringify(tv4.error));",
											"   pm.expect(tv4.missing.length).to.equal(0, \"Missing schemas: \" + JSON.stringify(tv4.missing));",
											"});",
											"",
											"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
											"    pm.response.to.have.header(\"X-Okapi-Trace\");",
											"});",
											"",
											"",
											"",
											"",
											"",
											""
										]
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "d031aed3-8994-49a7-a0e8-569a03ce46e0",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-tenant",
										"value": "{{xokapitenant}}"
									},
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\"userId\": \"{{circ_test_userid}}\",\n\"itemId\":\"{{circ_test_itemid}}\"\n\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/renew-by-id",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"circulation",
										"renew-by-id"
									]
								}
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				},
				{
					"_postman_id": "5ba3b724-540b-4ac1-967c-f53162f30106",
					"name": "negative",
					"item": [
						{
							"_postman_id": "3751ce91-79a5-43cf-9d56-b8a73f0ddfd8",
							"name": "renew-by-id- non-existent user",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "67e95de1-0b37-41ca-93e0-bef531c93061",
										"type": "text/javascript",
										"exec": [
											"",
											"let response = JSON.parse(responseBody);",
											"",
											"pm.test(\"Status is 422\", function () {",
											"    pm.response.to.have.status(\"Unprocessable Entity\");",
											"});",
											"",
											"pm.test(\"Response must be valid and have a body\", function () {",
											"    pm.response.to.be.withBody;",
											"    pm.response.to.be.json; ",
											"});",
											"",
											"pm.test(\"Response contains correct data\", function () {",
											"    pm.expect(pm.response.json().errors[0].message).to.equal(\"Cannot renew item checked out to different user\"); ",
											"});",
											"",
											"pm.test(\"Validate schema\", function () {",
											"  tv4.addSchema(\"parameters.schema\", JSON.parse(pm.variables.get(\"schema_parameters_content\")));",
											"   tv4.addSchema(\"error.schema\", JSON.parse(pm.variables.get(\"schema_error_content\")));",
											"    pm.expect(tv4.validate(response, JSON.parse(pm.environment.get(\"schema_errors_content\")))).to.equal(true, \"Schema validation error: \" + JSON.stringify(tv4.error));",
											"   pm.expect(tv4.missing.length).to.equal(0, \"Missing schemas: \" + JSON.stringify(tv4.missing));",
											"});",
											"",
											"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
											"    pm.response.to.have.header(\"X-Okapi-Trace\");",
											"});",
											"",
											"",
											"",
											"",
											"",
											""
										]
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "d031aed3-8994-49a7-a0e8-569a03ce46e0",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-tenant",
										"value": "{{xokapitenant}}"
									},
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\"userId\": \"{{$guid}}\",\n\"itemId\":\"{{circ_test_itemid}}\"\n\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/renew-by-id",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"circulation",
										"renew-by-id"
									]
								}
							},
							"response": []
						},
						{
							"_postman_id": "329dafd6-564d-4890-bb1e-e2c5f72fc7b8",
							"name": "renew-by-id - additional properties",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "01144367-90a1-437d-8164-9b72a4e3e72a",
										"type": "text/javascript",
										"exec": [
											"",
											"let response = JSON.parse(responseBody);",
											"//should not allow",
											"pm.test(\"Status is 200\", function () {",
											"    pm.response.to.have.status(\"OK\");",
											"});",
											"",
											"pm.test(\"Response must be valid and have a body\", function () {",
											"    pm.response.to.be.withBody;",
											"    pm.response.to.be.json; ",
											"});",
											"",
											"",
											"pm.test(\"Validate schema\", function () {",
											"  tv4.addSchema(\"parameters.schema\", JSON.parse(pm.variables.get(\"schema_parameters_content\")));",
											"   tv4.addSchema(\"error.schema\", JSON.parse(pm.variables.get(\"schema_error_content\")));",
											"    pm.expect(tv4.validate(response, JSON.parse(pm.environment.get(\"schema_errors_content\")))).to.equal(true, \"Schema validation error: \" + JSON.stringify(tv4.error));",
											"   pm.expect(tv4.missing.length).to.equal(0, \"Missing schemas: \" + JSON.stringify(tv4.missing));",
											"});",
											"",
											"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
											"    pm.response.to.have.header(\"X-Okapi-Trace\");",
											"});",
											"",
											"",
											"",
											"",
											"",
											""
										]
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "d031aed3-8994-49a7-a0e8-569a03ce46e0",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-tenant",
										"value": "{{xokapitenant}}"
									},
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\"userId\": \"{{circ_test_userid}}\",\n\"additionalProperties\": \"should not be allowed\",\n\"itemId\":\"{{circ_test_itemid}}\"\n\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/renew-by-id",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"circulation",
										"renew-by-id"
									]
								}
							},
							"response": []
						},
						{
							"_postman_id": "b5eca370-578b-4ebd-b2bb-f0dac909e79b",
							"name": "renew-by-id - invalid item",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "77308b73-dda6-4eca-848d-4b35664b9702",
										"type": "text/javascript",
										"exec": [
											"",
											"let response = JSON.parse(responseBody);",
											"",
											"pm.test(\"Status is 422\", function () {",
											"    pm.response.to.have.status(\"Unprocessable Entity\");",
											"});",
											"",
											"pm.test(\"Response must be valid and have a body\", function () {",
											"    pm.response.to.be.withBody;",
											"    pm.response.to.be.json; ",
											"});",
											"",
											"pm.test(\"Response contains correct data\", function () {",
											"    pm.expect(pm.response.json().errors[0].message).to.equal(\"No item with ID invalid-id exists\"); ",
											"});",
											"",
											"pm.test(\"Validate schema\", function () {",
											"  tv4.addSchema(\"parameters.schema\", JSON.parse(pm.variables.get(\"schema_parameters_content\")));",
											"   tv4.addSchema(\"error.schema\", JSON.parse(pm.variables.get(\"schema_error_content\")));",
											"    pm.expect(tv4.validate(response, JSON.parse(pm.environment.get(\"schema_errors_content\")))).to.equal(true, \"Schema validation error: \" + JSON.stringify(tv4.error));",
											"   pm.expect(tv4.missing.length).to.equal(0, \"Missing schemas: \" + JSON.stringify(tv4.missing));",
											"});",
											"",
											"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
											"    pm.response.to.have.header(\"X-Okapi-Trace\");",
											"});",
											"",
											"",
											"",
											"",
											"",
											""
										]
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "d031aed3-8994-49a7-a0e8-569a03ce46e0",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "x-okapi-tenant",
										"value": "{{xokapitenant}}"
									},
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\"userId\": \"{{circ_test_userid}}\",\n\"itemId\":\"invalid-id\"\n\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/renew-by-id",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"circulation",
										"renew-by-id"
									]
								}
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				},
				{
					"_postman_id": "71b024c9-41e5-4c60-bd7f-7ab26881fe3b",
					"name": "cleanup",
					"item": [
						{
							"_postman_id": "b7be6593-5a1c-4ba7-9685-1fd4d1fc2bc5",
							"name": "/circulation/loans/{id} - returning item",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "f328235f-0e2f-476e-be7d-52a5f59f2cb8",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status is 204\", function () {",
											"    pm.response.to.have.status(\"No Content\");",
											"});",
											""
										]
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "a0c38d04-ccaa-4139-b01d-ad429906b8a3",
										"type": "text/javascript",
										"exec": [
											"let today = new Date();",
											"let day = today.getDate();",
											"let month = today.getMonth() + 1; //January is 0!",
											"let year = today.getFullYear();",
											"",
											"if(day < 10) {",
											"    day = '0' + day;",
											"} ",
											"",
											"if(month < 10) {",
											"    month = '0'+ month;",
											"} ",
											"",
											"today = year + \"-\" + month + \"-\" + day;",
											"",
											"console.log(today);",
											"pm.variables.set(\"today\", today);"
										]
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "x-okapi-tenant",
										"value": "{{xokapitenant}}"
									},
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\"userId\": \"{{circ_test_userid}}\",\n\"itemId\":\"{{circ_test_itemid}}\",\n\"loanDate\": \"{{today}}\",\n\"action\": \"checkedin\",\n\"status\": {\n        \"name\": \"Closed\"\n    }\n\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/loans/{{barcode_checkout_id}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"circulation",
										"loans",
										"{{barcode_checkout_id}}"
									]
								}
							},
							"response": []
						},
						{
							"_postman_id": "a201fe0c-f7fa-4bfe-b45d-88a33f0c52d9",
							"name": "/circulation/loans/{id}  - delete loan",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "90b9aea6-80f5-46b6-878a-a3f7d3477e70",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status is 204\", function () {",
											"    pm.response.to.have.status(\"No Content\");",
											"});",
											"",
											"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
											"    pm.response.to.have.header(\"X-Okapi-Trace\");",
											"});"
										]
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "x-okapi-tenant",
										"value": "{{xokapitenant}}"
									},
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/loans/{{barcode_checkout_id}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"circulation",
										"loans",
										"{{barcode_checkout_id}}"
									]
								}
							},
							"response": []
						},
						{
							"_postman_id": "8e46f2fd-a1a1-407d-a44b-52474789cd0c",
							"name": "/circulation/loans{id} - verify delete",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "afdfa2c8-33de-4103-82ad-784b64a041dc",
										"type": "text/javascript",
										"exec": [
											"",
											"pm.test(\"Status is 404\", function () {",
											"    pm.response.to.have.status(\"Not Found\");",
											"});",
											"",
											"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
											"    pm.response.to.have.header(\"X-Okapi-Trace\");",
											"});",
											"",
											"",
											"// pm.environment.unset(\"circ_test_userid\");",
											"// pm.environment.unset(\"circ_test_itemid\");",
											"// pm.environment.unset(\"test_recipientId\");",
											"// pm.environment.unset(\"generic_loanid\");",
											"// pm.environment.unset(\"loanRulesAsTextFile\");",
											"// pm.environment.unset(\"newrequestid\");",
											"",
											"",
											"// //schema variables",
											"// pm.environment.unset(\"schema_parameters_content\");",
											"// pm.environment.unset(\"schema_error_content\");",
											"// pm.environment.unset(\"schema_errors_content\");",
											"// pm.environment.unset(\"schema_metadata_content\");",
											"// pm.environment.unset(\"schema_loans_content\");",
											"// pm.environment.unset(\"schema_loan_content\");",
											"// pm.environment.unset(\"schema_loan-rules_content\");",
											"// pm.environment.unset(\"schema_loan-rule_content\");",
											"// pm.environment.unset(\"schema_loan-rule-matches_content\");",
											"// pm.environment.unset(\"schema_loan-rule-match_content\");",
											"// pm.environment.unset(\"schema_requests_content\");",
											"// pm.environment.unset(\"schema_request_content\");",
											"// pm.environment.unset(\"schema_loan-policy-id_content\");",
											"",
											"",
											""
										]
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "x-okapi-tenant",
										"value": "{{xokapitenant}}"
									},
									{
										"key": "x-okapi-token",
										"value": "{{xokapitoken}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": ""
								},
								"url": {
									"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/loans/{{barcode_checkout_id}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{url}}"
									],
									"port": "{{okapiport}}",
									"path": [
										"circulation",
										"loans",
										"{{barcode_checkout_id}}"
									]
								}
							},
							"response": []
						}
					],
					"_postman_isSubFolder": true
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "157bef13-e6c4-455d-9c31-9d276215ee39",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "6de4d878-f472-4bc3-98da-fca0ca9f2065",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"_postman_id": "69b042d7-1ce4-47c9-9072-c631316b3de4",
			"name": "circulation/loans - positive scenarios",
			"item": [
				{
					"_postman_id": "2b2ab50d-a8e0-4d03-b37f-c9d8ff163f98",
					"name": "/circulation/loans",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "c41c8c61-a3e6-48a8-94bc-bf968706761c",
								"type": "text/javascript",
								"exec": [
									"let response = JSON.parse(responseBody);",
									"",
									"pm.test(\"Status is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response must be valid and have a body\", function () {",
									"    pm.response.to.be.ok; ",
									"    pm.response.to.be.withBody;",
									"    pm.response.to.be.json; ",
									"});",
									"",
									"pm.test(\"Validate schema\", function () {",
									"   tv4.addSchema(\"raml-util/schemas/metadata.schema\", JSON.parse(pm.variables.get(\"schema_metadata_content\")));",
									"   tv4.addSchema(\"loan.json\", JSON.parse(pm.environment.get(\"schema_loan_content\")));",
									"   pm.expect(tv4.validate(response, JSON.parse(pm.environment.get(\"schema_loans_content\")))).to.equal(true, \"Schema validation error: \" + JSON.stringify(tv4.error));",
									"   pm.expect(tv4.missing.length).to.equal(0, \"Missing schemas: \" + JSON.stringify(tv4.missing));",
									"});",
									"",
									"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
									"    pm.response.to.have.header(\"X-Okapi-Trace\");",
									"});",
									"",
									"",
									"",
									"",
									"",
									""
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "531fb774-242a-443f-8685-0bb7bdd02de3",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-okapi-tenant",
								"value": "{{xokapitenant}}"
							},
							{
								"key": "x-okapi-token",
								"value": "{{xokapitoken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/loans",
							"protocol": "{{protocol}}",
							"host": [
								"{{url}}"
							],
							"port": "{{okapiport}}",
							"path": [
								"circulation",
								"loans"
							]
						}
					},
					"response": []
				},
				{
					"_postman_id": "b1721464-9680-42f1-bde2-0195fb1f52c5",
					"name": "/circulation/loans - required fields only + status Closed",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "29110c83-af18-4690-8465-b645b164a4cc",
								"type": "text/javascript",
								"exec": [
									"//the scenario should not be possible.  If the user checks in the item, the status should not be closed because as a result the user will have item listed as checked out when in fact the item is checked in.",
									"",
									"",
									"let response = JSON.parse(responseBody);",
									"pm.environment.set(\"generic_loanid\", response.id);",
									"",
									"pm.test(\"Status is 201\", function () {",
									"    pm.response.to.have.status(\"Created\");",
									"});",
									"",
									"pm.test(\"Response must be valid and have a body\", function () {",
									"    pm.response.to.be.withBody;",
									"    pm.response.to.be.json; ",
									"});",
									"",
									"pm.test(\"Response contains correct data\", function () {",
									"    pm.expect(response.userId).to.equal(pm.environment.get(\"circ_test_userid\")); ",
									"    pm.expect(response.itemId).to.equal(pm.environment.get(\"circ_test_itemid\")); ",
									"});",
									"",
									"pm.test(\"Validate schema\", function () {",
									"   tv4.addSchema(\"raml-util/schemas/metadata.schema\", JSON.parse(pm.variables.get(\"schema_metadata_content\")));",
									"    pm.expect(tv4.validate(response, JSON.parse(pm.environment.get(\"schema_loan_content\")))).to.equal(true, \"Schema validation error: \" + JSON.stringify(tv4.error));",
									"   pm.expect(tv4.missing.length).to.equal(0, \"Missing schemas: \" + JSON.stringify(tv4.missing));",
									"});",
									"",
									"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
									"    pm.response.to.have.header(\"X-Okapi-Trace\");",
									"});",
									"",
									"",
									"",
									"",
									"",
									""
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "a0c38d04-ccaa-4139-b01d-ad429906b8a3",
								"type": "text/javascript",
								"exec": [
									"let today = new Date();",
									"let day = today.getDate();",
									"let month = today.getMonth() + 1; //January is 0!",
									"let year = today.getFullYear();",
									"",
									"if(day < 10) {",
									"    day = '0' + day;",
									"} ",
									"",
									"if(month < 10) {",
									"    month = '0'+ month;",
									"} ",
									"",
									"today = year + \"-\" + month + \"-\" + day;",
									"",
									"console.log(today);",
									"pm.variables.set(\"today\", today);"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "x-okapi-tenant",
								"value": "{{xokapitenant}}"
							},
							{
								"key": "x-okapi-token",
								"value": "{{xokapitoken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\"userId\": \"{{circ_test_userid}}\",\n\"itemId\":\"{{circ_test_itemid}}\",\n\"loanDate\": \"{{today}}\",\n\"action\": \"checkedin\",\n\"status\": {\n        \"name\": \"Closed\"\n    }\n\n}"
						},
						"url": {
							"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/loans",
							"protocol": "{{protocol}}",
							"host": [
								"{{url}}"
							],
							"port": "{{okapiport}}",
							"path": [
								"circulation",
								"loans"
							]
						}
					},
					"response": []
				},
				{
					"_postman_id": "c4a43ffb-5506-4a5f-a11f-75426870ad65",
					"name": "/circulation/loans - closed loans",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "75c42833-1e8e-42c3-9898-028a006bdd51",
								"type": "text/javascript",
								"exec": [
									"let response = JSON.parse(responseBody);",
									"",
									"pm.test(\"Status is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response must be valid and have a body\", function () {",
									"    pm.response.to.be.withBody;",
									"    pm.response.to.be.json; ",
									"});",
									"",
									"pm.test(\"Response contain correct data\", function(){",
									"    pm.expect(JSON.stringify(response)).to.contain(pm.environment.get(\"generic_loanid\"));",
									"});",
									"",
									"pm.test(\"Validate schema\", function () {",
									"   tv4.addSchema(\"raml-util/schemas/metadata.schema\", JSON.parse(pm.variables.get(\"schema_metadata_content\")));",
									"   tv4.addSchema(\"loan.json\", JSON.parse(pm.environment.get(\"schema_loan_content\")));",
									"   pm.expect(tv4.validate(response, JSON.parse(pm.environment.get(\"schema_loans_content\")))).to.equal(true, \"Schema validation error: \" + JSON.stringify(tv4.error));",
									"   pm.expect(tv4.missing.length).to.equal(0, \"Missing schemas: \" + JSON.stringify(tv4.missing));",
									"});",
									"",
									"pm.test(\"'Transfer-Encoding' header is present and has 'chunked' value\", function () {",
									"    pm.response.to.have.header(\"Transfer-Encoding\");",
									"    pm.expect(pm.response.headers.get(\"Transfer-Encoding\")).to.be.equal(\"chunked\");",
									"});",
									"",
									"",
									"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
									"    pm.response.to.have.header(\"X-Okapi-Trace\");",
									"});",
									"",
									"",
									"",
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-okapi-tenant",
								"value": "{{xokapitenant}}"
							},
							{
								"key": "x-okapi-token",
								"value": "{{xokapitoken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/loans?query=status =\"Closed\"",
							"protocol": "{{protocol}}",
							"host": [
								"{{url}}"
							],
							"port": "{{okapiport}}",
							"path": [
								"circulation",
								"loans"
							],
							"query": [
								{
									"key": "query",
									"value": "status =\"Closed\""
								}
							]
						}
					},
					"response": []
				},
				{
					"_postman_id": "ed7224d9-efe5-40a4-93f9-8496bf352da6",
					"name": "/circulation/loans - by userId",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "644e590e-2770-4b5f-a84f-bdcea3fce4b7",
								"type": "text/javascript",
								"exec": [
									"var response = JSON.parse(responseBody);",
									"",
									"pm.test(\"Status is 200\", function () {",
									"    pm.response.to.have.status(\"OK\");",
									"});",
									"",
									"pm.test(\"Response must be valid and have a body\", function () {",
									"    pm.response.to.be.withBody;",
									"    pm.response.to.be.json; ",
									"});",
									"",
									"pm.test(\"Validate schema\", function () {",
									"   tv4.addSchema(\"raml-util/schemas/metadata.schema\", JSON.parse(pm.variables.get(\"schema_metadata_content\")));",
									"   tv4.addSchema(\"loan.json\", JSON.parse(pm.environment.get(\"schema_loan_content\")));",
									"   pm.expect(tv4.validate(response, JSON.parse(pm.environment.get(\"schema_loans_content\")))).to.equal(true, \"Schema validation error: \" + JSON.stringify(tv4.error));",
									"   pm.expect(tv4.missing.length).to.equal(0, \"Missing schemas: \" + JSON.stringify(tv4.missing));",
									"});",
									"",
									"pm.test(\"Response contain correct data\", function(){",
									"    pm.expect(JSON.stringify(response)).to.contain(pm.environment.get(\"circ_test_userid\"));",
									"});",
									"",
									"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
									"    pm.response.to.have.header(\"X-Okapi-Trace\");",
									"});",
									"",
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-okapi-tenant",
								"value": "{{xokapitenant}}"
							},
							{
								"key": "x-okapi-token",
								"value": "{{xokapitoken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/loans?query=userId={{circ_test_userid}}",
							"protocol": "{{protocol}}",
							"host": [
								"{{url}}"
							],
							"port": "{{okapiport}}",
							"path": [
								"circulation",
								"loans"
							],
							"query": [
								{
									"key": "query",
									"value": "userId={{circ_test_userid}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"_postman_id": "ec6803c2-d4b4-441a-8d58-627834549350",
					"name": "/circulation/loans - by itemId",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "1f2832a3-7999-49e6-ab69-9825ff1b8b9a",
								"type": "text/javascript",
								"exec": [
									"var response = JSON.parse(responseBody);",
									"",
									"pm.test(\"Status is 200\", function () {",
									"    pm.response.to.have.status(\"OK\");",
									"});",
									"",
									"pm.test(\"Response must be valid and have a body\", function () {",
									"    pm.response.to.be.withBody;",
									"    pm.response.to.be.json; ",
									"});",
									"",
									"pm.test(\"Validate schema\", function () {",
									"   tv4.addSchema(\"raml-util/schemas/metadata.schema\", JSON.parse(pm.variables.get(\"schema_metadata_content\")));",
									"   tv4.addSchema(\"loan.json\", JSON.parse(pm.environment.get(\"schema_loan_content\")));",
									"   pm.expect(tv4.validate(response, JSON.parse(pm.environment.get(\"schema_loans_content\")))).to.equal(true, \"Schema validation error: \" + JSON.stringify(tv4.error));",
									"   pm.expect(tv4.missing.length).to.equal(0, \"Missing schemas: \" + JSON.stringify(tv4.missing));",
									"});",
									"",
									"pm.test(\"Response contain correct data\", function(){",
									"    pm.expect(JSON.stringify(response)).to.contain(pm.environment.get(\"generic_loanid\"));",
									"});",
									"",
									"pm.test(\"'Transfer-Encoding' header is present and has 'chunked' value\", function () {",
									"    pm.response.to.have.header(\"Transfer-Encoding\");",
									"    pm.expect(pm.response.headers.get(\"Transfer-Encoding\")).to.be.equal(\"chunked\");",
									"});",
									"",
									"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
									"    pm.response.to.have.header(\"X-Okapi-Trace\");",
									"});",
									"",
									"",
									"",
									"",
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-okapi-tenant",
								"value": "{{xokapitenant}}"
							},
							{
								"key": "x-okapi-token",
								"value": "{{xokapitoken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/loans?query=itemId={{circ_test_itemid}}",
							"protocol": "{{protocol}}",
							"host": [
								"{{url}}"
							],
							"port": "{{okapiport}}",
							"path": [
								"circulation",
								"loans"
							],
							"query": [
								{
									"key": "query",
									"value": "itemId={{circ_test_itemid}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"_postman_id": "e94b3e7a-da1e-4ffc-a5ab-a84826951f0a",
					"name": "/circulation/loans/{id}",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "ead51600-9a11-438b-97f9-28435179666e",
								"type": "text/javascript",
								"exec": [
									"var response = JSON.parse(responseBody);",
									"",
									"pm.test(\"Status is 200\", function () {",
									"    pm.response.to.have.status(\"OK\");",
									"});",
									"",
									"pm.test(\"Response must be valid and have a body\", function () {",
									"    pm.response.to.be.withBody;",
									"    pm.response.to.be.json; ",
									"});",
									"",
									"pm.test(\"Validate schema\", function () {",
									"   tv4.addSchema(\"raml-util/schemas/metadata.schema\", JSON.parse(pm.variables.get(\"schema_metadata_content\")));",
									"   pm.expect(tv4.validate(response, JSON.parse(pm.environment.get(\"schema_loan_content\")))).to.equal(true, \"Schema validation error: \" + JSON.stringify(tv4.error));",
									"   pm.expect(tv4.missing.length).to.equal(0, \"Missing schemas: \" + JSON.stringify(tv4.missing));",
									"});",
									"",
									"pm.test(\"Response contain correct data\", function(){",
									"    pm.expect(response.id).to.equal(pm.environment.get(\"generic_loanid\"));",
									"    pm.expect(response.userId).to.equal(pm.environment.get(\"circ_test_userid\"));",
									"    pm.expect(response.itemId).to.equal(pm.environment.get(\"circ_test_itemid\"));",
									"});",
									"",
									"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
									"    pm.response.to.have.header(\"X-Okapi-Trace\");",
									"});",
									"",
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-okapi-tenant",
								"value": "{{xokapitenant}}"
							},
							{
								"key": "x-okapi-token",
								"value": "{{xokapitoken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/loans/{{generic_loanid}}",
							"protocol": "{{protocol}}",
							"host": [
								"{{url}}"
							],
							"port": "{{okapiport}}",
							"path": [
								"circulation",
								"loans",
								"{{generic_loanid}}"
							]
						}
					},
					"response": []
				},
				{
					"_postman_id": "e23fc133-f3cc-42be-b0d6-506247c9b2a7",
					"name": "/circulation/loans/{id}",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "70528975-c42c-4768-8ee6-4dcb868a333d",
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status is 204\", function () {",
									"    pm.response.to.have.status(\"No Content\");",
									"});",
									"",
									"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
									"    pm.response.to.have.header(\"X-Okapi-Trace\");",
									"});",
									"",
									""
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "834355ba-7b25-43ea-90a7-352cf885e629",
								"type": "text/javascript",
								"exec": [
									"let today = new Date();",
									"let day = today.getDate();",
									"let month = today.getMonth() + 1; //January is 0!",
									"let year = today.getFullYear();",
									"",
									"if(day < 10) {",
									"    day = '0' + day;",
									"} ",
									"",
									"if(month < 10) {",
									"    month = '0'+ month;",
									"} ",
									"",
									"today = year + \"-\" + month + \"-\" + day;",
									"",
									"console.log(today);",
									"pm.variables.set(\"today\", today);"
								]
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "x-okapi-tenant",
								"value": "{{xokapitenant}}"
							},
							{
								"key": "x-okapi-token",
								"value": "{{xokapitoken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\"userId\": \"{{circ_test_userid}}\",\n\"itemId\":\"{{circ_test_itemid}}\",\n\"loanDate\": \"{{today}}\",\n\"action\": \"checkout\",\n\"status\": {\n        \"name\": \"Open\"\n    }\n\n}"
						},
						"url": {
							"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/loans/{{generic_loanid}}",
							"protocol": "{{protocol}}",
							"host": [
								"{{url}}"
							],
							"port": "{{okapiport}}",
							"path": [
								"circulation",
								"loans",
								"{{generic_loanid}}"
							]
						}
					},
					"response": []
				},
				{
					"_postman_id": "393d8fcb-116b-4882-887c-7796f4568ca2",
					"name": "/circulation/loans{id} - verify update",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "bf9bf359-955f-43e3-8bb1-361d78a45878",
								"type": "text/javascript",
								"exec": [
									"var response = JSON.parse(responseBody);",
									"",
									"pm.test(\"Status is 200\", function () {",
									"    pm.response.to.have.status(\"OK\");",
									"});",
									"",
									"pm.test(\"Response must be valid and have a body\", function () {",
									"    pm.response.to.be.withBody;",
									"    pm.response.to.be.json; ",
									"});",
									"",
									"pm.test(\"Validate schema\", function () {",
									"   tv4.addSchema(\"raml-util/schemas/metadata.schema\", JSON.parse(pm.variables.get(\"schema_metadata_content\")));",
									"   pm.expect(tv4.validate(response, JSON.parse(pm.environment.get(\"schema_loan_content\")))).to.equal(true, \"Schema validation error: \" + JSON.stringify(tv4.error));",
									"   pm.expect(tv4.missing.length).to.equal(0, \"Missing schemas: \" + JSON.stringify(tv4.missing));",
									"});",
									"",
									"pm.test(\"Response contain correct data\", function(){",
									"    pm.expect(response.id).to.equal(pm.environment.get(\"generic_loanid\"));",
									"    pm.expect(response.status.name).to.equal(\"Open\");",
									"    pm.expect(response.action).to.equal(\"checkout\")",
									"});",
									"",
									"pm.test(\"'Transfer-Encoding' header is present and has 'chunked' value\", function () {",
									"    pm.response.to.have.header(\"Transfer-Encoding\");",
									"    pm.expect(pm.response.headers.get(\"Transfer-Encoding\")).to.be.equal(\"chunked\");",
									"});",
									"",
									"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
									"    pm.response.to.have.header(\"X-Okapi-Trace\");",
									"});",
									"",
									"",
									"",
									"",
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-okapi-tenant",
								"value": "{{xokapitenant}}"
							},
							{
								"key": "x-okapi-token",
								"value": "{{xokapitoken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/loans/{{generic_loanid}}",
							"protocol": "{{protocol}}",
							"host": [
								"{{url}}"
							],
							"port": "{{okapiport}}",
							"path": [
								"circulation",
								"loans",
								"{{generic_loanid}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"_postman_id": "893b9af5-d296-491f-a17a-6c27912fdd66",
			"name": "circulation/loans - negative scenarios",
			"item": [
				{
					"_postman_id": "143d3f25-8de4-4068-89f5-c321773d3e6f",
					"name": "circulation/loans - invalid user and item",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "2a306f41-43a3-4714-bf27-f472e210c21d",
								"type": "text/javascript",
								"exec": [
									"",
									"pm.test(\"New loan was not created. Status is 422\", function () {",
									"    pm.response.to.have.status(422);",
									"});",
									"",
									"pm.test(\"Response must be valid and have a body\", function () {",
									"     pm.response.to.be.withBody;",
									"});",
									"",
									"var response = JSON.parse(responseBody);",
									"",
									"pm.test(\"Body matches string\", function () {",
									"    pm.expect(response.errors[0].parameters[0].key).to.be.equal(\"itemId\");",
									"    pm.expect(response.errors[0].parameters[0].value).to.be.equal(\"itemfoo\");",
									"  ",
									"});",
									"",
									"",
									"pm.test(\"'Transfer-Encoding' header is present and has 'chunked' value\", function () {",
									"    pm.response.to.have.header(\"Transfer-Encoding\");",
									"    pm.expect(pm.response.headers.get(\"Transfer-Encoding\")).to.be.equal(\"chunked\");",
									"});",
									"",
									"",
									"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
									"    pm.response.to.have.header(\"X-Okapi-Trace\");",
									"});",
									"",
									"",
									""
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "x-okapi-tenant",
								"value": "{{xokapitenant}}"
							},
							{
								"key": "x-okapi-token",
								"value": "{{xokapitoken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"userId\": \"userfoo\",\r\n  \"itemId\": \"itemfoo\",\r\n  \"loanDate\": \"2018-01-12T13:12:16Z\",\r\n  \"action\": \"checkedout\",\r\n  \"status\": {\r\n    \"name\": \"Open\"\r\n  }\r\n}"
						},
						"url": {
							"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/loans",
							"protocol": "{{protocol}}",
							"host": [
								"{{url}}"
							],
							"port": "{{okapiport}}",
							"path": [
								"circulation",
								"loans"
							]
						}
					},
					"response": []
				},
				{
					"_postman_id": "0d466988-ef99-4c42-9d1e-87ce47ab2a11",
					"name": "circulation/loans - invalid user",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "a2b0abeb-36cb-4b61-98b5-c5914aaed39b",
								"type": "text/javascript",
								"exec": [
									"var response = JSON.parse(responseBody);",
									"",
									"pm.test(\"New loan was not created. Status is 422\", function () {",
									"    pm.response.to.have.status(422);",
									"});",
									"",
									"pm.test(\"Response must be valid and have a body\", function () {",
									"     pm.response.to.be.withBody;",
									"});",
									"",
									"pm.test(\"Body matches string\", function () {",
									"    pm.expect(response.errors[0].parameters[0].key).to.be.equal(\"itemId\");",
									"    pm.expect(response.errors[0].parameters[0].value).to.be.equal(\"459afaba-5b39-468d-9072-eb1685e0ddf4\");",
									"});",
									"",
									"pm.test(\"'Transfer-Encoding' header is present and has 'chunked' value\", function () {",
									"    pm.response.to.have.header(\"Transfer-Encoding\");",
									"    pm.expect(pm.response.headers.get(\"Transfer-Encoding\")).to.be.equal(\"chunked\");",
									"});",
									"",
									"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
									"    pm.response.to.have.header(\"X-Okapi-Trace\");",
									"});",
									"",
									""
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "x-okapi-tenant",
								"value": "{{xokapitenant}}"
							},
							{
								"key": "x-okapi-token",
								"value": "{{xokapitoken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"userId\": \"userfoo\",\r\n  \"itemId\": \"459afaba-5b39-468d-9072-eb1685e0ddf4\",\r\n  \"loanDate\": \"2018-01-12T13:12:16Z\",\r\n  \"action\": \"checkedout\",\r\n  \"status\": {\r\n    \"name\": \"Open\"\r\n  }\r\n}"
						},
						"url": {
							"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/loans",
							"protocol": "{{protocol}}",
							"host": [
								"{{url}}"
							],
							"port": "{{okapiport}}",
							"path": [
								"circulation",
								"loans"
							]
						}
					},
					"response": []
				},
				{
					"_postman_id": "1105d6cb-db1d-4fd0-949c-0f1621ae5398",
					"name": "/circulation/loans/nonexistentloan",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "87fa7dc8-962b-47c7-9f4e-00bda306a023",
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status is 204\", function () {",
									"    pm.response.to.have.status(204);",
									"});",
									"",
									"",
									""
								]
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "x-okapi-tenant",
								"value": "{{xokapitenant}}"
							},
							{
								"key": "x-okapi-token",
								"value": "{{xokapitoken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "http://{{url}}:9130/circulation/loans/foo",
							"protocol": "http",
							"host": [
								"{{url}}"
							],
							"port": "9130",
							"path": [
								"circulation",
								"loans",
								"foo"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"_postman_id": "70d57401-5d12-42e7-9874-0c2a3bd1d5f6",
			"name": "circulation/loan-rules",
			"item": [
				{
					"_postman_id": "3f926f6d-8ad6-4f2b-9024-16b4c78acd9c",
					"name": "/circulation/loan-rules",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "50d6a575-ed84-4a8e-9f33-4419885ff44d",
								"type": "text/javascript",
								"exec": [
									"var response = JSON.parse(responseBody);",
									"",
									"//pm.environment.set(\"loanrulesid\", response.id);",
									"pm.environment.set(\"loanRulesAsTextFile\", JSON.stringify(response.loanRulesAsTextFile));",
									"",
									"pm.test(\"Status is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response must be valid and have a body\", function () {",
									"    pm.response.to.be.ok; ",
									"    pm.response.to.be.withBody;",
									"    pm.response.to.be.json; ",
									"});",
									"",
									"",
									"pm.test(\"Validate schema\", function () {",
									"   pm.expect(tv4.validate(response, JSON.parse(pm.environment.get(\"schema_loan-rules_content\")))).to.equal(true, \"Schema validation error: \" + JSON.stringify(tv4.error));",
									"   pm.expect(tv4.missing.length).to.equal(0, \"Missing schemas: \" + JSON.stringify(tv4.missing));",
									"});",
									"",
									"",
									"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
									"    pm.response.to.have.header(\"X-Okapi-Trace\");",
									"});",
									"",
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-okapi-tenant",
								"value": "{{xokapitenant}}"
							},
							{
								"key": "x-okapi-token",
								"value": "{{xokapitoken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/loan-rules",
							"protocol": "{{protocol}}",
							"host": [
								"{{url}}"
							],
							"port": "{{okapiport}}",
							"path": [
								"circulation",
								"loan-rules"
							]
						}
					},
					"response": []
				},
				{
					"_postman_id": "e0cf8ee2-5c41-44b9-a97e-f35ea4035991",
					"name": "/circulation/loan-rules - invalid request",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "f8f214a1-88b9-43ef-a0e5-71d7be34505b",
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status is 422\", function () {",
									"    pm.response.to.have.status(422);",
									"});",
									"",
									"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
									"    pm.response.to.have.header(\"X-Okapi-Trace\");",
									"});",
									""
								]
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "x-okapi-tenant",
								"value": "{{xokapitenant}}"
							},
							{
								"key": "x-okapi-token",
								"value": "{{xokapitoken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"loanRulesAsTextFile\": \"invalid\"\r\n}"
						},
						"url": {
							"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/loan-rules",
							"protocol": "{{protocol}}",
							"host": [
								"{{url}}"
							],
							"port": "{{okapiport}}",
							"path": [
								"circulation",
								"loan-rules"
							]
						}
					},
					"response": []
				},
				{
					"_postman_id": "d66d62e0-1f84-4e97-b8bf-bf492393cf25",
					"name": "/circulation/loan-rules - invalid json",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "e234e065-0a80-40f4-946b-59a39a282f27",
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status is 422\", function () {",
									"    pm.response.to.have.status(422);",
									"});",
									"",
									"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
									"    pm.response.to.have.header(\"X-Okapi-Trace\");",
									"});",
									"",
									""
								]
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "x-okapi-tenant",
								"value": "{{xokapitenant}}"
							},
							{
								"key": "x-okapi-token",
								"value": "{{xokapitoken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"loanRulesAsTextFile\": \"invalid\",\r\n}"
						},
						"url": {
							"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/loan-rules",
							"protocol": "{{protocol}}",
							"host": [
								"{{url}}"
							],
							"port": "{{okapiport}}",
							"path": [
								"circulation",
								"loan-rules"
							]
						}
					},
					"response": []
				},
				{
					"_postman_id": "ecc0254f-62c5-4766-adb7-0dce6ab14d6b",
					"name": "/circulation/loan-rules",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "69ab6810-3e52-4c51-bba6-be0f38c1a264",
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status is 204\", function () {",
									"    pm.response.to.have.status(204);",
									"});",
									"",
									""
								]
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "x-okapi-tenant",
								"value": "{{xokapitenant}}"
							},
							{
								"key": "x-okapi-token",
								"value": "{{xokapitoken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"loanRulesAsTextFile\": {{loanRulesAsTextFile}}\r\n}"
						},
						"url": {
							"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/loan-rules",
							"protocol": "{{protocol}}",
							"host": [
								"{{url}}"
							],
							"port": "{{okapiport}}",
							"path": [
								"circulation",
								"loan-rules"
							]
						}
					},
					"response": []
				},
				{
					"_postman_id": "f207dd73-353f-4a7e-9e55-833b2387bcf3",
					"name": "/circulation/loan-rules/apply - missing query parameters",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b652757f-803b-4dc1-bef9-93d031ba38d0",
								"type": "text/javascript",
								"exec": [
									"//query parameter is required now",
									"",
									"pm.test(\"Status is 400\", function () {",
									"    pm.response.to.have.status(400);",
									"});",
									"",
									"",
									"pm.test(\"'Transfer-Encoding' header is present and has 'chunked' value\", function () {",
									"    pm.response.to.have.header(\"Transfer-Encoding\");",
									"    pm.expect(pm.response.headers.get(\"Transfer-Encoding\")).to.be.equal(\"chunked\");",
									"});",
									"",
									"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
									"    pm.response.to.have.header(\"X-Okapi-Trace\");",
									"});",
									"",
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-okapi-tenant",
								"value": "{{xokapitenant}}"
							},
							{
								"key": "x-okapi-token",
								"value": "{{xokapitoken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/loan-rules/apply",
							"protocol": "{{protocol}}",
							"host": [
								"{{url}}"
							],
							"port": "{{okapiport}}",
							"path": [
								"circulation",
								"loan-rules",
								"apply"
							]
						}
					},
					"response": []
				},
				{
					"_postman_id": "354f1da8-9e06-4fe3-a2f6-e8bb1e7c34be",
					"name": "/circulation/loan-rules/apply",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "a1c250a5-18b6-4bea-932c-d5c444d778da",
								"type": "text/javascript",
								"exec": [
									"//This is really strange behavior  -it always return the same record - event though the provided parameters are invalid",
									"",
									"let response = JSON.parse(responseBody);",
									"",
									"pm.test(\"Status is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Validate schema\", function () {",
									"   pm.expect(tv4.validate(response, JSON.parse(pm.environment.get(\"schema_loan-policy-id_content\")))).to.equal(true, \"Schema validation error: \" + JSON.stringify(tv4.error));",
									"   pm.expect(tv4.missing.length).to.equal(0, \"Missing schemas: \" + JSON.stringify(tv4.missing));",
									"});",
									"",
									"pm.test(\"'Transfer-Encoding' header is present and has 'chunked' value\", function () {",
									"    pm.response.to.have.header(\"Transfer-Encoding\");",
									"    pm.expect(pm.response.headers.get(\"Transfer-Encoding\")).to.be.equal(\"chunked\");",
									"});",
									"",
									"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
									"    pm.response.to.have.header(\"X-Okapi-Trace\");",
									"});",
									"",
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-okapi-tenant",
								"value": "{{xokapitenant}}"
							},
							{
								"key": "x-okapi-token",
								"value": "{{xokapitoken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/loan-rules/apply?item_type_id={{$guid}}&loan_type_id={{$guid}}&patron_type_id={{$guid}}&shelving_location_id={{$guid}}",
							"protocol": "{{protocol}}",
							"host": [
								"{{url}}"
							],
							"port": "{{okapiport}}",
							"path": [
								"circulation",
								"loan-rules",
								"apply"
							],
							"query": [
								{
									"key": "item_type_id",
									"value": "{{$guid}}"
								},
								{
									"key": "loan_type_id",
									"value": "{{$guid}}"
								},
								{
									"key": "patron_type_id",
									"value": "{{$guid}}"
								},
								{
									"key": "shelving_location_id",
									"value": "{{$guid}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"_postman_id": "c07eba99-8484-4e50-96d0-7746661eda18",
					"name": "/circulation/loan-rules/apply-all - missing query parameters",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "fea31e63-91cd-41d1-9dd1-4a6b386f8ca6",
								"type": "text/javascript",
								"exec": [
									"//query parameter is required now",
									"",
									"pm.test(\"Status is 400\", function () {",
									"    pm.response.to.have.status(400);",
									"});",
									"",
									"pm.test(\"'Transfer-Encoding' header is present and has 'chunked' value\", function () {",
									"    pm.response.to.have.header(\"Transfer-Encoding\");",
									"    pm.expect(pm.response.headers.get(\"Transfer-Encoding\")).to.be.equal(\"chunked\");",
									"});",
									"",
									"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
									"    pm.response.to.have.header(\"X-Okapi-Trace\");",
									"});",
									"",
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-okapi-tenant",
								"value": "{{xokapitenant}}"
							},
							{
								"key": "x-okapi-token",
								"value": "{{xokapitoken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/loan-rules/apply-all",
							"protocol": "{{protocol}}",
							"host": [
								"{{url}}"
							],
							"port": "{{okapiport}}",
							"path": [
								"circulation",
								"loan-rules",
								"apply-all"
							]
						}
					},
					"response": []
				},
				{
					"_postman_id": "8074dadb-73ef-4b2a-b7d3-7d4cbf3b760b",
					"name": "/circulation/loan-rules/apply-all",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "098acf15-d61f-4afe-91b9-e9e5738876ad",
								"type": "text/javascript",
								"exec": [
									"//This is really strange behavior  -it always return the same record - event though the provided parameters are invalid",
									"",
									"let response = JSON.parse(responseBody);",
									"",
									"pm.test(\"Status is 200\", function () {",
									"    pm.response.to.have.status(\"OK\");",
									"});",
									"",
									"pm.test(\"Validate schema\", function () {",
									"   tv4.addSchema(\"loan-rule-match.json\", JSON.parse(pm.environment.get(\"schema_loan-rule-match_content\")));",
									"   pm.expect(tv4.validate(response, JSON.parse(pm.environment.get(\"schema_loan-rule-matches_content\")))).to.equal(true, \"Schema validation error: \" + JSON.stringify(tv4.error));",
									"   pm.expect(tv4.missing.length).to.equal(0, \"Missing schemas: \" + JSON.stringify(tv4.missing));",
									"});",
									"",
									"pm.test(\"'Transfer-Encoding' header is present and has 'chunked' value\", function () {",
									"    pm.response.to.have.header(\"Transfer-Encoding\");",
									"    pm.expect(pm.response.headers.get(\"Transfer-Encoding\")).to.be.equal(\"chunked\");",
									"});",
									"",
									"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
									"    pm.response.to.have.header(\"X-Okapi-Trace\");",
									"});",
									"",
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-okapi-tenant",
								"value": "{{xokapitenant}}"
							},
							{
								"key": "x-okapi-token",
								"value": "{{xokapitoken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/loan-rules/apply-all?item_type_id={{$guid}}&loan_type_id={{$guid}}&patron_type_id={{$guid}}&shelving_location_id={{$guid}}",
							"protocol": "{{protocol}}",
							"host": [
								"{{url}}"
							],
							"port": "{{okapiport}}",
							"path": [
								"circulation",
								"loan-rules",
								"apply-all"
							],
							"query": [
								{
									"key": "item_type_id",
									"value": "{{$guid}}"
								},
								{
									"key": "loan_type_id",
									"value": "{{$guid}}"
								},
								{
									"key": "patron_type_id",
									"value": "{{$guid}}"
								},
								{
									"key": "shelving_location_id",
									"value": "{{$guid}}"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"_postman_id": "200a934b-2442-405f-91ed-438f0001dabd",
			"name": "circulation/requests",
			"item": [
				{
					"_postman_id": "d8671004-3612-4b1f-bc75-750284cab1ca",
					"name": "/circulation/requests",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "ecd81156-5dcf-4f9d-be1c-87eb5d2e6bda",
								"type": "text/javascript",
								"exec": [
									"// ///Set test data",
									"var response = JSON.parse(responseBody);",
									"// if(response.requests.length >0){",
									"// pm.environment.set(\"existingrequestid\", response.requests[0].id)",
									"// }",
									"",
									"pm.test(\"Status is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response must be valid and have a body\", function () {",
									"    pm.response.to.be.ok; ",
									"    pm.response.to.be.withBody;",
									"    pm.response.to.be.json; ",
									"});",
									"",
									"pm.test(\"Validate schema\", function () {",
									"   tv4.addSchema(\"raml-util/schemas/metadata.schema\", JSON.parse(pm.variables.get(\"schema_metadata_content\")));",
									"   tv4.addSchema(\"request.json\", JSON.parse(pm.environment.get(\"schema_request_content\")));",
									"   pm.expect(tv4.validate(response, JSON.parse(pm.environment.get(\"schema_requests_content\")))).to.equal(true, \"Schema validation error: \" + JSON.stringify(tv4.error));",
									"   pm.expect(tv4.missing.length).to.equal(0, \"Missing schemas: \" + JSON.stringify(tv4.missing));",
									"});",
									"",
									"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
									"    pm.response.to.have.header(\"X-Okapi-Trace\");",
									"});",
									"",
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-okapi-tenant",
								"value": "{{xokapitenant}}"
							},
							{
								"key": "x-okapi-token",
								"value": "{{xokapitoken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/requests",
							"protocol": "{{protocol}}",
							"host": [
								"{{url}}"
							],
							"port": "{{okapiport}}",
							"path": [
								"circulation",
								"requests"
							]
						}
					},
					"response": []
				},
				{
					"_postman_id": "f271a884-8233-4518-b4c7-005564a0f6e3",
					"name": "/circulation/requests",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "ab4e89dc-0af6-48b4-a23e-6ce3e903dd45",
								"type": "text/javascript",
								"exec": [
									"var response = JSON.parse(responseBody);",
									"pm.environment.set(\"newrequestid\", response.id);",
									"",
									"pm.test(\"Status is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Response must be valid and have a body\", function () {",
									"    pm.response.to.be.withBody;",
									"    pm.response.to.be.json; ",
									"});",
									"",
									"pm.test(\"Validate schema\", function () {",
									"   tv4.addSchema(\"raml-util/schemas/metadata.schema\", JSON.parse(pm.variables.get(\"schema_metadata_content\")));",
									"   pm.expect(tv4.validate(response, JSON.parse(pm.environment.get(\"schema_request_content\")))).to.equal(true, \"Schema validation error: \" + JSON.stringify(tv4.error));",
									"   pm.expect(tv4.missing.length).to.equal(0, \"Missing schemas: \" + JSON.stringify(tv4.missing));",
									"});",
									"",
									"pm.test(\"'Transfer-Encoding' header is present and has 'chunked' value\", function () {",
									"    pm.response.to.have.header(\"Transfer-Encoding\");",
									"    pm.expect(pm.response.headers.get(\"Transfer-Encoding\")).to.be.equal(\"chunked\");",
									"});",
									"",
									"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
									"    pm.response.to.have.header(\"X-Okapi-Trace\");",
									"});",
									""
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "4f8dfafc-387e-4388-be01-b4b8a76325a4",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "x-okapi-tenant",
								"value": "{{xokapitenant}}"
							},
							{
								"key": "x-okapi-token",
								"value": "{{xokapitoken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"requestType\": \"Hold\",\r\n  \"requestDate\": \"2018-07-29T22:25:37Z\",\r\n  \"requesterId\": \"{{circ_test_userid}}\",\r\n  \"itemId\": \"{{circ_test_itemid}}\",\r\n  \"fulfilmentPreference\": \"Hold Shelf\",\r\n  \"requestExpirationDate\": \"2018-07-25\"\r\n}"
						},
						"url": {
							"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/requests",
							"protocol": "{{protocol}}",
							"host": [
								"{{url}}"
							],
							"port": "{{okapiport}}",
							"path": [
								"circulation",
								"requests"
							]
						}
					},
					"response": []
				},
				{
					"_postman_id": "df767745-1cb7-4c14-92aa-93bdad492eeb",
					"name": "/circulation/requests{{loanuserid}}",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "e3603091-8a78-4be4-bc69-4d8a10dedcab",
								"type": "text/javascript",
								"exec": [
									"let response = JSON.parse(responseBody);",
									"",
									"pm.test(\"Status is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response must be valid and have a body\", function () {",
									"    pm.response.to.be.ok; ",
									"    pm.response.to.be.withBody;",
									"    pm.response.to.be.json; ",
									"});",
									"",
									"pm.test(\"Validate schema\", function () {",
									"   tv4.addSchema(\"raml-util/schemas/metadata.schema\", JSON.parse(pm.variables.get(\"schema_metadata_content\")));",
									"   tv4.addSchema(\"request.json\", JSON.parse(pm.environment.get(\"schema_request_content\")));",
									"   pm.expect(tv4.validate(response, JSON.parse(pm.environment.get(\"schema_requests_content\")))).to.equal(true, \"Schema validation error: \" + JSON.stringify(tv4.error));",
									"   pm.expect(tv4.missing.length).to.equal(0, \"Missing schemas: \" + JSON.stringify(tv4.missing));",
									"});",
									"",
									"",
									"//verify headers",
									"// pm.test(\"'Content-Type'header is present and has 'application/json' value\", function () {",
									"//     pm.response.to.have.header(\"Content-Type\");",
									"//     pm.expect(pm.response.headers.get(\"Content-Type\")).to.be.equal(\"application/json\");",
									"// });",
									"",
									"pm.test(\"'Transfer-Encoding' header is present and has 'chunked' value\", function () {",
									"    pm.response.to.have.header(\"Transfer-Encoding\");",
									"    pm.expect(pm.response.headers.get(\"Transfer-Encoding\")).to.be.equal(\"chunked\");",
									"});",
									"",
									"// pm.test(\"'accept' header is present and has correct value\", function () {",
									"//     pm.response.to.have.header(\"accept\");",
									"//     pm.expect(pm.response.headers.get(\"accept\")).to.be.equal(\"*/*\"); ",
									"// });",
									"",
									"// pm.test(\"'accept-encoding' header is present and has correct value\", function () {",
									"//     pm.response.to.have.header(\"accept-encoding\");",
									"//     pm.expect(pm.response.headers.get(\"accept-encoding\")).to.be.equal(\"gzip, deflate\");",
									"// });",
									"",
									"",
									"// pm.test(\"'connection' header is present and has correct value\", function () {",
									"//     pm.response.to.have.header(\"connection\");",
									"//     pm.expect(pm.response.headers.get(\"connection\")).to.be.equal(\"keep-alive\");",
									"// });",
									"",
									"// pm.test(\"'host' header is present\", function () {",
									"//     pm.response.to.have.header(\"host\");",
									"//   // var hostHeaderValue = pm.environment.get(\"url\") + \":\" + pm.environment.get(\"okapiport\");",
									"//   // pm.expect(pm.response.headers.get(\"host\")).to.be.equal(hostHeaderValue);",
									"// });",
									"",
									"// pm.test(\"'x-okapi-module-permissions' header is present\", function () {",
									"//     pm.response.to.have.header(\"x-okapi-module-permissions\");",
									"// });",
									"",
									"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
									"    pm.response.to.have.header(\"X-Okapi-Trace\");",
									"});",
									"",
									"// pm.test(\"'x-okapi-permissions-required' header is present\", function () {",
									"//     pm.response.to.have.header(\"x-okapi-permissions-required\");",
									"// });",
									"",
									"// pm.test(\"'x-okapi-permissions' header is present\", function () {",
									"//     pm.response.to.have.header(\"x-okapi-permissions\");",
									"// });",
									"",
									"// pm.test(\"'x-okapi-request-id' header is present\", function () {",
									"//     pm.response.to.have.header(\"x-okapi-request-id\");",
									"// });",
									"",
									"// pm.test(\"'x-okapi-tenant' header is present and has correct value\", function () {",
									"//     pm.response.to.have.header(\"x-okapi-tenant\");",
									"//     pm.expect(pm.response.headers.get(\"x-okapi-tenant\")).to.be.equal(pm.environment.get(\"xokapitenant\"));",
									"// });",
									"",
									"// pm.test(\"'x-okapi-token' header is present and has correct value\", function () {",
									"//     pm.response.to.have.header(\"x-okapi-token\");",
									"//     pm.expect(pm.response.headers.get(\"x-okapi-token\")).to.be.equal(pm.environment.get(\"xokapitoken\"));",
									"// });",
									"",
									"// pm.test(\"'x-okapi-url' header is present\", function () {",
									"//     pm.response.to.have.header(\"x-okapi-url\");",
									"// });",
									"",
									"// pm.test(\"'x-okapi-user-id' header is present\", function () {",
									"//     pm.response.to.have.header(\"x-okapi-user-id\");",
									"// });",
									"",
									"",
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-okapi-tenant",
								"value": "{{xokapitenant}}"
							},
							{
								"key": "x-okapi-token",
								"value": "{{xokapitoken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/requests?query=requesterId={{circ_test_userid}}",
							"protocol": "{{protocol}}",
							"host": [
								"{{url}}"
							],
							"port": "{{okapiport}}",
							"path": [
								"circulation",
								"requests"
							],
							"query": [
								{
									"key": "query",
									"value": "requesterId={{circ_test_userid}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"_postman_id": "fe7e8c22-6c30-4bb1-a640-4fa73cbfab04",
					"name": "/circulation/requests - item does not exists",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "1bd6ef13-fe8f-49f8-96a3-bad492e6987d",
								"type": "text/javascript",
								"exec": [
									"let jsonData = pm.response.json();",
									"    ",
									"pm.test(\"Status is 422\", function () {",
									"    pm.response.to.have.status(422);",
									"});",
									"",
									"",
									"pm.test(\"Response must be valid and have a body\", function () {",
									"    pm.response.to.be.withBody;",
									"    pm.response.to.be.json; ",
									"});",
									"",
									"pm.test(\"Validate schema\", function () {",
									"    let schema_parameters = JSON.parse(pm.variables.get(\"schema_parameters_content\"));",
									"    tv4.addSchema(pm.variables.get(\"schema_parameters\"), schema_parameters);",
									"    if (schema_parameters.id) {",
									"        tv4.addSchema(schema_parameters.id, schema_parameters);",
									"    }",
									"    let schema_error = JSON.parse(pm.variables.get(\"schema_error_content\"));",
									"    tv4.addSchema(pm.variables.get(\"schema_error\"), schema_error);",
									"    if (schema_error.id) {",
									"        tv4.addSchema(schema_error.id, schema_error);",
									"    }",
									"    ",
									"    pm.expect(tv4.validate(jsonData, JSON.parse(pm.environment.get(\"schema_errors_content\")))).to.equal(true, \"Schema validation error: \" + JSON.stringify(tv4.error));",
									"    pm.expect(tv4.missing.length).to.equal(0, \"Missing schemas: \" + JSON.stringify(tv4.missing));",
									"",
									"});",
									"",
									"var response = JSON.parse(responseBody);",
									"pm.test('Response contains correct error message', function() {",
									"  pm.expect(response.errors[0].parameters[0].value).to.eql(\"invaliditemid\");",
									"  pm.expect(response.errors[0].parameters[0].key).to.eql(\"itemId\");",
									"});",
									"",
									"//verify headers",
									"pm.test(\"'Transfer-Encoding' header is present and has 'chunked' value\", function () {",
									"    pm.response.to.have.header(\"Transfer-Encoding\");",
									"    pm.expect(pm.response.headers.get(\"Transfer-Encoding\")).to.be.equal(\"chunked\");",
									"});",
									"",
									"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
									"    pm.response.to.have.header(\"X-Okapi-Trace\");",
									"});",
									"",
									"",
									"",
									""
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "x-okapi-tenant",
								"value": "{{xokapitenant}}"
							},
							{
								"key": "x-okapi-token",
								"value": "{{xokapitoken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"requestType\": \"Recall\",\r\n  \"requestDate\": \"2018-07-29\",\r\n  \"requesterId\": \"{{circ_test_userid}}\",\r\n  \"itemId\": \"invaliditemid\",\r\n  \"fulfilmentPreference\": \"Hold Shelf\",\r\n  \"requestExpirationDate\": \"2017-07-25\"\r\n}"
						},
						"url": {
							"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/requests",
							"protocol": "{{protocol}}",
							"host": [
								"{{url}}"
							],
							"port": "{{okapiport}}",
							"path": [
								"circulation",
								"requests"
							]
						}
					},
					"response": []
				},
				{
					"_postman_id": "cfccf8ae-8046-473b-9c39-32e93f9814e7",
					"name": "/circulation/requests/{{newrequestid}}",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "96f08fe9-3bd5-4da1-8c44-69b39f5de474",
								"type": "text/javascript",
								"exec": [
									"let response = JSON.parse(responseBody);",
									"",
									"pm.test(\"Status is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response must be valid and have a body\", function () {",
									"    pm.response.to.be.ok; ",
									"    pm.response.to.be.withBody;",
									"    pm.response.to.be.json; ",
									"});",
									"",
									"pm.test(\"Validate schema\", function () {",
									"   tv4.addSchema(\"raml-util/schemas/metadata.schema\", JSON.parse(pm.variables.get(\"schema_metadata_content\")));",
									"   pm.expect(tv4.validate(response, JSON.parse(pm.environment.get(\"schema_request_content\")))).to.equal(true, \"Schema validation error: \" + JSON.stringify(tv4.error));",
									"   pm.expect(tv4.missing.length).to.equal(0, \"Missing schemas: \" + JSON.stringify(tv4.missing));",
									"});",
									"",
									"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
									"    pm.response.to.have.header(\"X-Okapi-Trace\");",
									"});"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-okapi-tenant",
								"value": "{{xokapitenant}}"
							},
							{
								"key": "x-okapi-token",
								"value": "{{xokapitoken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/requests/{{newrequestid}}",
							"protocol": "{{protocol}}",
							"host": [
								"{{url}}"
							],
							"port": "{{okapiport}}",
							"path": [
								"circulation",
								"requests",
								"{{newrequestid}}"
							]
						}
					},
					"response": []
				},
				{
					"_postman_id": "79f35207-ecb3-4e0e-aaba-afe1ca03af02",
					"name": "/circulation/requests{{newrequestid}}",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "5bcc5b59-a76a-462b-b524-e81237ddc002",
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status is 204\", function () {",
									"    pm.response.to.have.status(204);",
									"});",
									"",
									"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
									"    pm.response.to.have.header(\"X-Okapi-Trace\");",
									"});",
									""
								]
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "x-okapi-tenant",
								"value": "{{xokapitenant}}"
							},
							{
								"key": "x-okapi-token",
								"value": "{{xokapitoken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"id\": \"{{newrequestid}}\",\r\n  \"requestType\": \"Page\",\r\n  \"requestDate\": \"2018-07-29T22:25:37Z\",\r\n  \"requesterId\": \"{{circ_test_userid}}\",\r\n  \"itemId\": \"{{circ_test_itemid}}\",\r\n  \"fulfilmentPreference\": \"Hold Shelf\",\r\n  \"requestExpirationDate\": \"2017-07-25\"\r\n}"
						},
						"url": {
							"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/requests/{{newrequestid}}",
							"protocol": "{{protocol}}",
							"host": [
								"{{url}}"
							],
							"port": "{{okapiport}}",
							"path": [
								"circulation",
								"requests",
								"{{newrequestid}}"
							]
						}
					},
					"response": []
				},
				{
					"_postman_id": "ac39c617-18cc-43ce-99e6-fb185ed6886d",
					"name": "/circulation/requests/{{newrequestid}} - verify update",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "25f063ef-525c-4045-b4c3-98a50879684c",
								"type": "text/javascript",
								"exec": [
									"let response = JSON.parse(responseBody);",
									"",
									"pm.test(\"Status is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response must be valid and have a body\", function () {",
									"    pm.response.to.be.ok; ",
									"    pm.response.to.be.withBody;",
									"    pm.response.to.be.json; ",
									"});",
									"",
									"pm.test(\"Correct data is returned\", function () {",
									"    pm.expect(response.requestType).to.equal(\"Page\");",
									"});",
									"",
									"pm.test(\"Validate schema\", function () {",
									"   tv4.addSchema(\"raml-util/schemas/metadata.schema\", JSON.parse(pm.variables.get(\"schema_metadata_content\")));",
									"   pm.expect(tv4.validate(response, JSON.parse(pm.environment.get(\"schema_request_content\")))).to.equal(true, \"Schema validation error: \" + JSON.stringify(tv4.error));",
									"   pm.expect(tv4.missing.length).to.equal(0, \"Missing schemas: \" + JSON.stringify(tv4.missing));",
									"});",
									"",
									"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
									"    pm.response.to.have.header(\"X-Okapi-Trace\");",
									"});",
									"",
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-okapi-tenant",
								"value": "{{xokapitenant}}"
							},
							{
								"key": "x-okapi-token",
								"value": "{{xokapitoken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/requests/{{newrequestid}}",
							"protocol": "{{protocol}}",
							"host": [
								"{{url}}"
							],
							"port": "{{okapiport}}",
							"path": [
								"circulation",
								"requests",
								"{{newrequestid}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"_postman_id": "1f634684-26a8-4759-a1a7-eb5ccedc6d31",
			"name": "cleanup",
			"item": [
				{
					"_postman_id": "6b6bdc4a-2fed-440a-b305-d83c5af7ac0d",
					"name": "/circulation/requests/{{newrequestid}}",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b8dd3316-4c1b-49fc-a305-3e869d93f99e",
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status is 204\", function () {",
									"    pm.response.to.have.status(204);",
									"});",
									"",
									"",
									"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
									"    pm.response.to.have.header(\"X-Okapi-Trace\");",
									"});",
									"",
									""
								]
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "x-okapi-tenant",
								"value": "{{xokapitenant}}"
							},
							{
								"key": "x-okapi-token",
								"value": "{{xokapitoken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"id\": \"{{existingrequestid}}\",\r\n  \"requestType\": \"Page\",\r\n  \"requestDate\": \"2018-07-29T22:25:37Z\",\r\n  \"requesterId\": \"{{loanuserid}}\",\r\n  \"itemId\": \"{{loanitemid}}\",\r\n  \"fulfilmentPreference\": \"Hold Shelf\",\r\n  \"requestExpirationDate\": \"2017-07-25\"\r\n}"
						},
						"url": {
							"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/requests/{{newrequestid}}",
							"protocol": "{{protocol}}",
							"host": [
								"{{url}}"
							],
							"port": "{{okapiport}}",
							"path": [
								"circulation",
								"requests",
								"{{newrequestid}}"
							]
						}
					},
					"response": []
				},
				{
					"_postman_id": "023f9cf6-b460-457a-87db-19b4c6dae860",
					"name": "/circulation/requests/{{newrequestid}} - verfiy delete",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "4214cebe-7027-41d6-9b12-ca3ac7728422",
								"type": "text/javascript",
								"exec": [
									"",
									"pm.test(\"Status is 400\", function () {",
									"    pm.response.to.have.status(\"Not Found\");",
									"});",
									"",
									"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
									"    pm.response.to.have.header(\"X-Okapi-Trace\");",
									"});"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-okapi-tenant",
								"value": "{{xokapitenant}}"
							},
							{
								"key": "x-okapi-token",
								"value": "{{xokapitoken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/requests/{{newrequestid}}",
							"protocol": "{{protocol}}",
							"host": [
								"{{url}}"
							],
							"port": "{{okapiport}}",
							"path": [
								"circulation",
								"requests",
								"{{newrequestid}}"
							]
						}
					},
					"response": []
				},
				{
					"_postman_id": "afda1c8b-6251-47ff-b733-da7018534a6d",
					"name": "/circulation/loans/{id}",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "90b9aea6-80f5-46b6-878a-a3f7d3477e70",
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status is 204\", function () {",
									"    pm.response.to.have.status(\"No Content\");",
									"});",
									"",
									"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
									"    pm.response.to.have.header(\"X-Okapi-Trace\");",
									"});"
								]
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "x-okapi-tenant",
								"value": "{{xokapitenant}}"
							},
							{
								"key": "x-okapi-token",
								"value": "{{xokapitoken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/loans/{{generic_loanid}}",
							"protocol": "{{protocol}}",
							"host": [
								"{{url}}"
							],
							"port": "{{okapiport}}",
							"path": [
								"circulation",
								"loans",
								"{{generic_loanid}}"
							]
						}
					},
					"response": []
				},
				{
					"_postman_id": "d7caa5e1-b5be-44b2-b5a1-ed5277a49a07",
					"name": "/circulation/loans{id} - verify delete",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "d78b5edf-e76d-48aa-bd02-297c58f975c7",
								"type": "text/javascript",
								"exec": [
									"",
									"pm.test(\"Status is 404\", function () {",
									"    pm.response.to.have.status(\"Not Found\");",
									"});",
									"",
									"pm.test(\"'X-Okapi-Trace' header is present\", function () {",
									"    pm.response.to.have.header(\"X-Okapi-Trace\");",
									"});",
									"",
									"",
									"pm.environment.unset(\"circ_test_userid\");",
									"pm.environment.unset(\"circ_test_itemid\");",
									"pm.environment.unset(\"test_recipientId\");",
									"pm.environment.unset(\"generic_loanid\");",
									"pm.environment.unset(\"loanRulesAsTextFile\");",
									"pm.environment.unset(\"newrequestid\");",
									"",
									"",
									"//schema variables",
									"pm.environment.unset(\"schema_parameters_content\");",
									"pm.environment.unset(\"schema_error_content\");",
									"pm.environment.unset(\"schema_errors_content\");",
									"pm.environment.unset(\"schema_metadata_content\");",
									"pm.environment.unset(\"schema_loans_content\");",
									"pm.environment.unset(\"schema_loan_content\");",
									"pm.environment.unset(\"schema_loan-rules_content\");",
									"pm.environment.unset(\"schema_loan-rule_content\");",
									"pm.environment.unset(\"schema_loan-rule-matches_content\");",
									"pm.environment.unset(\"schema_loan-rule-match_content\");",
									"pm.environment.unset(\"schema_requests_content\");",
									"pm.environment.unset(\"schema_request_content\");",
									"pm.environment.unset(\"schema_loan-policy-id_content\");",
									"",
									"",
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-okapi-tenant",
								"value": "{{xokapitenant}}"
							},
							{
								"key": "x-okapi-token",
								"value": "{{xokapitoken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{protocol}}://{{url}}:{{okapiport}}/circulation/loans/{{generic_loanid}}",
							"protocol": "{{protocol}}",
							"host": [
								"{{url}}"
							],
							"port": "{{okapiport}}",
							"path": [
								"circulation",
								"loans",
								"{{generic_loanid}}"
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "bd336eec-9214-4ee9-8979-19fda6d938b2",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "42c60b31-caea-44d3-89f5-260cf60efc3f",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"id": "04bc6b54-9655-4b8f-8620-8b2a0ded1a7b",
			"key": "mod_name",
			"value": "mod-circulation",
			"type": "string"
		},
		{
			"id": "7a4188f1-76ac-4fe3-9b38-e529bdbd6df9",
			"key": "mod_version",
			"value": "v10.7.0",
			"type": "string"
		},
		{
			"id": "33dc6f50-c911-4bcd-bee3-928318c224af",
			"key": "schema_loc",
			"value": "https://raw.githubusercontent.com/folio-org",
			"type": "string"
		},
		{
			"id": "fa3aa50d-83aa-47c1-9052-7dedc8b05280",
			"key": "schema_error",
			"value": "error.schema",
			"type": "string"
		},
		{
			"id": "05d7f180-7630-4a2c-ab94-1f9cc01dcfa5",
			"key": "schema_errors",
			"value": "errors.schema",
			"type": "string"
		},
		{
			"id": "372bd859-c20f-4acd-b2ca-4aeff103b4b3",
			"key": "schema_parameters",
			"value": "parameters.schema",
			"type": "string"
		},
		{
			"id": "b55f135d-5df2-477c-9317-a9a1d111ca27",
			"key": "schema_metadata",
			"value": "metadata.schema",
			"type": "string"
		},
		{
			"id": "2db2ca03-2132-4c93-b5d0-aebf7e54d026",
			"key": "schema_loans",
			"value": "loans.json",
			"type": "string"
		},
		{
			"id": "7b41539a-a3c9-473d-b639-cb900315348c",
			"key": "schema_loan",
			"value": "loan.json",
			"type": "string"
		},
		{
			"id": "f03d2d0e-ba4d-4d35-b9bd-f3a2f5432244",
			"key": "schema_loan-rules",
			"value": "loan-rules.json",
			"type": "string"
		},
		{
			"id": "33ebd5e6-c296-4782-a3ff-d20fa2f8295d",
			"key": "schema_loan-rule-matches",
			"value": "loan-rule-matches.json",
			"type": "string"
		},
		{
			"id": "96c33af6-64e7-4043-82e4-956860e0c955",
			"key": "schema_loan-rule-match",
			"value": "loan-rule-match.json",
			"type": "string"
		},
		{
			"id": "a7c9fd56-52ca-4c2a-828c-0344aefb2fe7",
			"key": "schema_loan-policy-id",
			"value": "loan-policy-id.json",
			"type": "string"
		},
		{
			"id": "c619f0c3-016a-4bde-853a-fee522b1d6de",
			"key": "schema_requests",
			"value": "requests.json",
			"type": "string"
		},
		{
			"id": "c601e96b-d14d-4e73-8749-32b788ab7126",
			"key": "schema_request",
			"value": "request.json",
			"type": "string"
		}
	]
}